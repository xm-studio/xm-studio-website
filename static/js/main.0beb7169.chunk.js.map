{"version":3,"sources":["components/hash.js","components/turn.js","resources/icons/svgr/CompassButton/index.jsx","resources/icons/svgr/PawprintButton/index.jsx","resources/icons/svgr/BookstackButton/index.jsx","resources/icons/svgr/ContactButton/index.jsx","resources/icons/svgr/TeamButton/index.jsx","components/sidebar.js","components/feedcard.js","resources/Feed/data.js","xm_feed.js","xm_projects.js","resources/Books/Shelves/AcademicResearchShelf.js","components/bookshelf.js","xm_bookstack.js","xm_team.js","components/flipcontactcard.js","xm_contact.js","components/flipbook.js","resources/Books/Research/ARMFinal.js","resources/Books/Research/CellularAutomata.js","resources/Books/Research/DiscreteElementAssemblies.js","index.js"],"names":["obj","hashes","num","pushState","timer","currentUrl","getHashParts","window","location","href","split","Hash","yes","history","this","fragment","hash","pathname","get","path","params","p","parameters","Object","prototype","hasOwnProperty","push","encodeURIComponent","length","join","go","to","document","title","update","on","callback","listeners","setInterval","check","i","parts","call","regexp","RegExp","exec","yep","nop","freeze","has3d","hasRot","CompassButton","props","animateNeedle","needle","styler","compassRef","current","querySelector","rotateNeedle","tween","from","rotate","duration","loop","ease","easing","linear","needleRotation","start","set","stopHover","stopNeedleAnimation","stop","hoverHandle","compass","scaleNeedle","spring","scale","needleScaling","React","createRef","prevProps","isActive","console","log","className","onMouseOver","onMouseOut","onClick","xmlns","viewBox","id","ref","class","cx","cy","r","fill","stroke-width","stroke","points","x1","y1","x2","y2","Component","PawprintButton","animatePaws","leftPalm","appear","pathLength","paws","scalePaws","pawScaling","d","BookstackButton","bookRef","book","x","y","width","height","Sidebar","play","state","setState","prevState","TeamButton","ContactButton","FeedCard","property","index","picture","city","address","bedrooms","bathrooms","carSpaces","src","alt","data","XMFeed","nextProperty","newIndex","properties","prevProperty","Col","Row","onSwipeLeft","onSwipeRight","allowMouseEvents","disabled","XMProjects","AcademicResearchShelf","BookShelf","shelfName","XMBookStack","XMTeam","FlipContactCard","flex","name","designation","tel","mail","target","XMContact","Container","$","require","vendor","PI","Math","A90","isTouch","mouseEvents","down","move","up","over","out","corners","backward","forward","all","displays","directions","turnOptions","acceleration","display","page","gradients","turnCorners","when","turning","event","view","currentPage","turn","parent","removeClass","addClass","turned","flipOptions","cornerSize","turnMethods","init","options","body","style","navigator","userAgent","parseFloat","rotationAvailable","getPrefix","pageNum","ch","children","extend","direction","attr","css","opts","pageObjs","pages","pageWrap","pageZoom","pagePlace","pageMv","zoom","totalPages","eventHandlers","touchStart","proxy","_touchStart","touchMove","_touchMove","touchEnd","_touchEnd","_eventStart","has","bind","position","transform","translate","_eventEnd","_eventPressed","_eventReleased","_flip","done","addPage","element","incPages","lastPage","destroying","parseInt","turnError","_movePages","indexOf","hasClass","_addPage","_removeFromDOM","_necessPage","overflow","append","appendTo","prop","_pageSize","_makeFlip","remove","hasPage","center","size","left","noCenter","tpage","marginLeft","destroy","flipbook","trigger","each","eventName","unbind","fparent","shadow","removeData","is","newZoom","currentView","iz","newWidth","round","newHeight","autoCenter","_updateShadow","top","right","pageWidth","pageHeight","odd","single","flip","next","_setPageLoc","_makeRange","range","remainingPages","_view","floor","min","pagesInDOM","max","_removePageFromDOM","dd","flipMethods","_moveFoldingPage","f","fwrapper","_removeMv","removePage","_fitPage","change","that","currentDisplay","undefined","inArray","dir","toLowerCase","animating","corner","disable","resize","splice","_addMv","ignore","animate","force","_missing","missing","newView","_turnPage","place","optsCorners","flipData","actualPoint","point","effect","pop","previous","shift","peel","_addMotionPage","e","actualZoom","isDefaultPrevented","charAt","turnData","mouseAction","time","Date","getTime","outArea","preventDefault","stopPropagation","apply","arguments","_eventMove","calculateZ","mv","nextPage","placePage","dpage","total","pageZ","partZ","pageV","addView","abs","fixed","pos","actualView","zIndex","pageLocation","view2","divAtt","loc","version","hover","_addPageWrapper","setData","z","_cAllowed","_cornerActivated","csz","allowedCorners","_isIArea","offset","originalEvent","touches","pageX","pageY","_c","point2D","_c2","_foldingPage","_backGradient","gradient","bshadow","type","full","wrapper","fpage","ashadow","sqrt","pow","findPos","cssProperties","prepend","hide","flips","bottom","cursor","_fold","o","leftPos","gradientX","fpageOrigin","parentOrigin","parentCss","relX","angle","half","backgroundColor","opacity","px","gradientEndPointA","gradientEndPointB","gradientStartVal","gradientSize","gradientOpacity","shadowVal","a","df","tr","folding","ac","tan","h","substr","compute","rel","middle","alpha","atan2","gamma","distance","sin","cos","beta","side","sideX","sideY","endingPoint","far","c","mvW","mvH","cssA","cssB","aliasingFk","origin","_showFoldedPage","visible","status","animatef","frame","v","show","shadows","bshadowLoc","hideFoldedPage","p1","p4","delta","p2","p3","np","bezier","complete","hiding","turnPage","elevation","moving","isTurning","dec","methods","args","Array","slice","overf","t","b","use3d","degrees","object","vendorPrefixes","len","p0","colors","numColors","j","cols","dx","dy","angle2","diagonal","gradientDiagonal","slope","inverse","segA","context","Event","isPropagationStopped","message","TurnJsError","Error","constructor","offsetLeft","offsetTop","offsetParent","requestAnim","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","fn","diff","timeDiff","cssPrefix","cssTransitionEnd","el","createElement","transitions","Flipbook","handleKeyDown","keyCode","assign","addEventListener","removeEventListener","filename","concat","toString","key","renderPages","imgpath","imgnum","defaultProps","innerWidth","ARMFinal","CellularAutomata","DiscreteElementAssemblies","Routing","forceRefresh","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0beb7169.chunk.js","sourcesContent":["/**\r\n * hash.js\r\n *\r\n * Copyright (C) 2012 Emmanuel Garcia\r\n * MIT Licensed\r\n *\r\n * ****************************************\r\n *\r\n * Hash.pushState(true);\r\n *\r\n * Hash.on('/page/([0-9]+)$',\r\n *\t{yep: function(path, parts) { }, nop: function() { }},\r\n *\t'Page $1');\r\n *\r\n * Hash.go('/page/1');\r\n **/\r\n\r\n(function() {\r\n\r\n    'use strict';\r\n    \r\n    var hashes = {},\r\n        regexp = {},\r\n        history = [],\r\n        freq = 100,\r\n        num = 0,\r\n        pushState = false,\r\n        timer = null,\r\n        currentUrl = null,\r\n    \r\n        freeze = function(obj) {\r\n            if (Object.freeze) return Object.freeze(obj);\r\n            return obj;\r\n        },\r\n    \r\n        getHashParts = function() {\r\n            return window.location.href.split('#');\r\n        },\r\n    \r\n        startTimer = function() {\r\n    \r\n            if (!timer)\r\n                timer = setInterval(function() {\r\n                    if (num>0 && currentUrl!=window.location.href) {\r\n                        currentUrl = window.location.href;\r\n                        window.Hash.check();\r\n                    }\r\n                }, freq);\r\n    \r\n        },\r\n    \r\n        stopTimer = function() {\r\n    \r\n            if (timer) {\r\n                clearInterval(timer);\r\n                timer = null;\r\n            }\r\n    \r\n        };\r\n    \r\n    window.Hash = freeze({\r\n    \r\n            pushState: function(yes) {\r\n    \r\n                if (window.history && window.history.pushState)\r\n                    pushState = yes;\r\n    \r\n                return this;\r\n            },\r\n    \r\n            fragment: function() {\r\n    \r\n                var hash = getHashParts();\r\n                return (pushState) ?\r\n                    window.location.pathname + ((hash[1]) ? '#' + hash[1] : '')\r\n                    : hash[1] || '';\r\n    \r\n            },\r\n    \r\n            get: function(path, params) {\r\n    \r\n                var p, fragment = '', parameters = [];\r\n    \r\n                for(p in params) {\r\n                    if (!Object.prototype.hasOwnProperty(p))\r\n                        continue;\r\n                    parameters.push(encodeURIComponent(p) + '=' + encodeURIComponent(params[p]));\r\n                }\r\n    \r\n                if (parameters.length>0)\r\n                    parameters = '?' + parameters.join('&');\r\n    \r\n                return (pushState) ? path + parameters :\r\n                    getHashParts()[0] + '#' + path + parameters;\r\n    \r\n            },\r\n    \r\n            go: function(hash, params) {\r\n    \r\n                if (this.fragment()!=hash) {\r\n                    var to = this.get(hash, params);\r\n    \r\n                    if (pushState)\r\n                        window.history.pushState(null, document.title, to);\r\n                    else\r\n                        window.location.href = to;\r\n                    }\r\n    \r\n                return this;\r\n            },\r\n    \r\n            update: function () {\r\n    \r\n                currentUrl = window.location.href;\r\n                return this;\r\n    \r\n            },\r\n    \r\n            on: function(hash, callback, title) {\r\n    \r\n                if (!hashes[hash])\r\n                    hashes[hash] = {title: title, listeners: []};\r\n    \r\n                hashes[hash].listeners.push(callback);\r\n                num++;\r\n                startTimer();\r\n    \r\n                return this;\r\n            },\r\n    \r\n            check: function() {\r\n    \r\n                var i,\r\n                    hash,\r\n                    parts,\r\n                    fragment = this.fragment();\r\n    \r\n    \r\n                for (hash in hashes) {\r\n                    if (!Object.prototype.hasOwnProperty.call(hashes, hash))\r\n                        continue;\r\n    \r\n                    hashes[hash].regexp = hashes[hash].regexp || new RegExp(hash);\r\n    \r\n                    if ((parts = hashes[hash].regexp.exec(fragment))) {\r\n                        if (hashes[hash].title)\r\n                            document.title = hashes[hash].title;\r\n    \r\n                        for (i = 0; i<hashes[hash].listeners.length; i++)\r\n                            if (hashes[hash].listeners[i].yep)\r\n                                hashes[hash].listeners[i].yep(fragment, parts);\r\n                    } else {\r\n                        for (i = 0; i<hashes[hash].listeners.length; i++)\r\n                            if (hashes[hash].listeners[i].nop)\r\n                                hashes[hash].listeners[i].nop(fragment);\r\n                    }\r\n    \r\n                }\r\n    \r\n                return this;\r\n            }\r\n    });\r\n    \r\n    })();","import Hash from './hash.js';\r\n\r\nvar $ = require('jquery');\r\n\r\nvar has3d,\r\n\r\n  hasRot,\r\n\r\n  vendor = '',\r\n\r\n  version = '4.1.0',\r\n\r\n  PI = Math.PI,\r\n\r\n  A90 = PI / 2,\r\n\r\n  isTouch = 'ontouchstart' in window,\r\n\r\n  mouseEvents = (isTouch) ?\r\n    {\r\n      down: 'touchstart',\r\n      move: 'touchmove',\r\n      up: 'touchend',\r\n      over: 'touchstart',\r\n      out: 'touchend'\r\n    }\r\n    :\r\n    {\r\n      down: 'mousedown',\r\n      move: 'mousemove',\r\n      up: 'mouseup',\r\n      over: 'mouseover',\r\n      out: 'mouseout'\r\n    },\r\n\r\n  // Contansts used for each corner\r\n  //   | tl * tr |\r\n  // l | *     * | r\r\n  //   | bl * br |\r\n\r\n  corners = {\r\n    backward: ['bl', 'tl'],\r\n    forward: ['br', 'tr'],\r\n    all: ['tl', 'bl', 'tr', 'br', 'l', 'r']\r\n  },\r\n\r\n  // Display values\r\n\r\n  displays = ['single', 'double'],\r\n\r\n  // Direction values\r\n\r\n  directions = ['ltr', 'rtl'],\r\n\r\n  // Default options\r\n\r\n  turnOptions = {\r\n\r\n    // Enables hardware acceleration\r\n\r\n    acceleration: true,\r\n\r\n    // Display\r\n\r\n    display: 'double',\r\n\r\n    // Duration of transition in milliseconds\r\n\r\n    duration: 600,\r\n\r\n    // First page\r\n\r\n    page: 1,\r\n\r\n    // Enables gradients\r\n\r\n    gradients: true,\r\n\r\n    // Corners used when turning the page\r\n\r\n    turnCorners: 'bl,br',\r\n\r\n    // Events\r\n\r\n    when: {\r\n\r\n\t\t\tturning: function(event, page, view) {\r\n\t\t\t\t\r\n\t\t\t\tvar book = $(this),\r\n\t\t\t\tcurrentPage = book.turn('page'),\r\n\t\t\t\tpages = book.turn('pages');\r\n\t\t\r\n\t\t\t\t// Update the current URI\r\n\r\n\t\t\t\tHash.go('page/' + page).update();\r\n\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t$('.thumbnails .page-'+currentPage).\r\n\t\t\t\t\tparent().\r\n\t\t\t\t\tremoveClass('current');\r\n\r\n\t\t\t\t$('.thumbnails .page-'+page).\r\n\t\t\t\t\tparent().\r\n\t\t\t\t\taddClass('current');\r\n\r\n\t\t\t},\r\n\r\n\t\t\tturned: function(event, page, view) {\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t$(this).turn('center');\r\n\r\n\t\t\t\tif (page==1) { \r\n\t\t\t\t\t$(this).turn('peel', 'br');\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\r\n\t\t}\r\n  },\r\n\r\n  flipOptions = {\r\n\r\n    // Size of the active zone of each corner\r\n\r\n    cornerSize: 100\r\n\r\n  },\r\n\r\n  // Number of pages in the DOM, minimum value: 6\r\n\r\n  pagesInDOM = 6,\r\n\r\n\r\n  turnMethods = {\r\n\r\n    // Singleton constructor\r\n    // $('#selector').turn([options]);\r\n\r\n    init: function (options) {\r\n\r\n      // Define constants\r\n\r\n      has3d = 'WebKitCSSMatrix' in window || 'MozPerspective' in document.body.style;\r\n      hasRot = rotationAvailable();\r\n      vendor = getPrefix();\r\n\r\n      var i, that = this, pageNum = 0, data = this.data(), ch = this.children();\r\n\r\n      // Set initial configuration\r\n\r\n      options = $.extend({\r\n        width: this.width(),\r\n        height: this.height(),\r\n        direction: this.attr('dir') || this.css('direction') || 'ltr'\r\n      }, turnOptions, options);\r\n\r\n      data.opts = options;\r\n      data.pageObjs = {};\r\n      data.pages = {};\r\n      data.pageWrap = {};\r\n      data.pageZoom = {};\r\n      data.pagePlace = {};\r\n      data.pageMv = [];\r\n      data.zoom = 1;\r\n      data.totalPages = options.pages || 0;\r\n      data.eventHandlers = {\r\n        touchStart: $.proxy(turnMethods._touchStart, this),\r\n        touchMove: $.proxy(turnMethods._touchMove, this),\r\n        touchEnd: $.proxy(turnMethods._touchEnd, this),\r\n        start: $.proxy(turnMethods._eventStart, this)\r\n      };\r\n\r\n\r\n\r\n      // Add event listeners\r\n\r\n      if (options.when)\r\n        for (i in options.when)\r\n          if (has(i, options.when))\r\n            this.bind(i, options.when[i]);\r\n\r\n      // Set the css\r\n\r\n      this.css({ position: 'relative', width: options.width, height: options.height });\r\n\r\n      // Set the initial display\r\n\r\n      this.turn('display', options.display);\r\n\r\n      // Set the direction\r\n\r\n      if (options.direction !== '')\r\n        this.turn('direction', options.direction);\r\n\r\n      // Prevent blue screen problems of switching to hardware acceleration mode\r\n      // By forcing hardware acceleration for ever\r\n\r\n      if (has3d && !isTouch && options.acceleration)\r\n        this.transform(translate(0, 0, true));\r\n\r\n      // Add pages from the DOM\r\n\r\n      for (i = 0; i < ch.length; i++) {\r\n        if ($(ch[i]).attr('ignore') != '1') {\r\n          this.turn('addPage', ch[i], ++pageNum);\r\n        }\r\n      }\r\n\r\n      // Event listeners\r\n\r\n      $(this).bind(mouseEvents.down, data.eventHandlers.touchStart).\r\n        bind('end', turnMethods._eventEnd).\r\n        bind('pressed', turnMethods._eventPressed).\r\n        bind('released', turnMethods._eventReleased).\r\n        bind('flip', turnMethods._flip);\r\n\r\n      $(this).parent().bind('start', data.eventHandlers.start);\r\n\r\n      $(document).bind(mouseEvents.move, data.eventHandlers.touchMove).\r\n        bind(mouseEvents.up, data.eventHandlers.touchEnd);\r\n\r\n      // Set the initial page\r\n\r\n      this.turn('page', options.page);\r\n\r\n      // This flipbook is ready\r\n\r\n      data.done = true;\r\n\r\n      return this;\r\n    },\r\n\r\n    // Adds a page from external data\r\n\r\n    addPage: function (element, page) {\r\n\r\n      var currentPage,\r\n        className,\r\n        incPages = false,\r\n        data = this.data(),\r\n        lastPage = data.totalPages + 1;\r\n\r\n      if (data.destroying)\r\n        return false;\r\n\r\n      // Read the page number from the className of `element` - format: p[0-9]+\r\n\r\n      if ((currentPage = /\\bp([0-9]+)\\b/.exec($(element).attr('class'))))\r\n        page = parseInt(currentPage[1], 10);\r\n\r\n      if (page) {\r\n\r\n        if (page == lastPage)\r\n          incPages = true;\r\n        else if (page > lastPage)\r\n          throw turnError('Page \"' + page + '\" cannot be inserted');\r\n\r\n      } else {\r\n\r\n        page = lastPage;\r\n        incPages = true;\r\n\r\n      }\r\n\r\n      if (page >= 1 && page <= lastPage) {\r\n\r\n        if (data.display == 'double')\r\n          className = (page % 2) ? ' odd' : ' even';\r\n        else\r\n          className = '';\r\n\r\n        // Stop animations\r\n        if (data.done)\r\n          this.turn('stop');\r\n\r\n        // Move pages if it's necessary\r\n        if (page in data.pageObjs)\r\n          turnMethods._movePages.call(this, page, 1);\r\n\r\n        // Increase the number of pages\r\n        if (incPages)\r\n          data.totalPages = lastPage;\r\n\r\n        // Add element\r\n        data.pageObjs[page] = $(element).\r\n          css({ 'float': 'left' }).\r\n          addClass('page p' + page + className);\r\n\r\n        if (!hasHardPage() && data.pageObjs[page].hasClass('hard')) {\r\n          data.pageObjs[page].removeClass('hard');\r\n        }\r\n\r\n        // Add page\r\n        turnMethods._addPage.call(this, page);\r\n\r\n        // Remove pages out of range\r\n        turnMethods._removeFromDOM.call(this);\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    // Adds a page\r\n\r\n    _addPage: function (page) {\r\n\r\n      var data = this.data(),\r\n        element = data.pageObjs[page];\r\n\r\n      if (element)\r\n        if (turnMethods._necessPage.call(this, page)) {\r\n\r\n          if (!data.pageWrap[page]) {\r\n\r\n            // Wrapper\r\n            data.pageWrap[page] = $('<div/>',\r\n              {\r\n                'class': 'page-wrapper',\r\n                page: page,\r\n                css: {\r\n                  position: 'absolute',\r\n                  overflow: 'hidden'\r\n                }\r\n              });\r\n\r\n            // Append to this flipbook\r\n            this.append(data.pageWrap[page]);\r\n\r\n            if (!data.pagePlace[page]) {\r\n\r\n              data.pagePlace[page] = page;\r\n              // Move `pageObjs[page]` to wrapper\r\n              data.pageObjs[page].appendTo(data.pageWrap[page]);\r\n\r\n            }\r\n\r\n            // Set the size of the page\r\n            var prop = turnMethods._pageSize.call(this, page, true);\r\n            element.css({ width: prop.width, height: prop.height });\r\n            data.pageWrap[page].css(prop);\r\n\r\n          }\r\n\r\n          if (data.pagePlace[page] == page) {\r\n\r\n            // If the page isn't in another place, create the flip effect\r\n            turnMethods._makeFlip.call(this, page);\r\n\r\n          }\r\n\r\n        } else {\r\n\r\n          // Place\r\n          data.pagePlace[page] = 0;\r\n\r\n          // Remove element from the DOM\r\n          if (data.pageObjs[page])\r\n            data.pageObjs[page].remove();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    // Checks if a page is in memory\r\n\r\n    hasPage: function (page) {\r\n\r\n      return has(page, this.data().pageObjs);\r\n\r\n    },\r\n\r\n    // Centers the flipbook\r\n\r\n    center: function (page) {\r\n\r\n      var data = this.data(),\r\n        size = $(this).turn('size'),\r\n        left = 0;\r\n\r\n      if (!data.noCenter) {\r\n        if (data.display == 'double') {\r\n          var view = this.turn('view', page || data.tpage || data.page);\r\n\r\n          if (data.direction == 'ltr') {\r\n            if (!view[0])\r\n              left -= size.width / 4;\r\n            else if (!view[1])\r\n              left += size.width / 4;\r\n          } else {\r\n            if (!view[0])\r\n              left += size.width / 4;\r\n            else if (!view[1])\r\n              left -= size.width / 4;\r\n          }\r\n\r\n        }\r\n\r\n        $(this).css({ marginLeft: left });\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    // Destroys the flipbook\r\n\r\n    destroy: function () {\r\n\r\n      var page,\r\n        flipbook = this,\r\n        data = this.data(),\r\n        events = [\r\n          'end', 'first', 'flip', 'last', 'pressed',\r\n          'released', 'start', 'turning', 'turned',\r\n          'zooming', 'missing'];\r\n\r\n      if (trigger('destroying', this) == 'prevented')\r\n        return;\r\n\r\n      data.destroying = true;\r\n\r\n      $.each(events, function (index, eventName) {\r\n        flipbook.unbind(eventName);\r\n      });\r\n\r\n      this.parent().unbind('start', data.eventHandlers.start);\r\n\r\n      $(document).unbind(mouseEvents.move, data.eventHandlers.touchMove).\r\n        unbind(mouseEvents.up, data.eventHandlers.touchEnd);\r\n\r\n      while (data.totalPages !== 0) {\r\n        this.turn('removePage', data.totalPages);\r\n      }\r\n\r\n      if (data.fparent)\r\n        data.fparent.remove();\r\n\r\n      if (data.shadow)\r\n        data.shadow.remove();\r\n\r\n      this.removeData();\r\n      data = null;\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    // Checks if this element is a flipbook\r\n\r\n    is: function () {\r\n\r\n      return typeof (this.data().pages) == 'object';\r\n\r\n    },\r\n\r\n    // Sets and gets the zoom value\r\n\r\n    zoom: function (newZoom) {\r\n\r\n      var data = this.data();\r\n\r\n      if (typeof (newZoom) == 'number') {\r\n\r\n        if (newZoom < 0.001 || newZoom > 100)\r\n          throw turnError(newZoom + ' is not a value for zoom');\r\n\r\n        if (trigger('zooming', this, [newZoom, data.zoom]) == 'prevented')\r\n          return this;\r\n\r\n        var size = this.turn('size'),\r\n          currentView = this.turn('view'),\r\n          iz = 1 / data.zoom,\r\n          newWidth = Math.round(size.width * iz * newZoom),\r\n          newHeight = Math.round(size.height * iz * newZoom);\r\n\r\n        data.zoom = newZoom;\r\n\r\n        $(this).turn('stop').\r\n          turn('size', newWidth, newHeight);\r\n        /*.\r\n        css({marginTop: size.height * iz / 2 - newHeight / 2});*/\r\n\r\n        if (data.opts.autoCenter)\r\n          this.turn('center');\r\n        /*else\r\n          $(this).css({marginLeft: size.width * iz / 2 - newWidth / 2});*/\r\n\r\n        turnMethods._updateShadow.call(this);\r\n\r\n        for (var i = 0; i < currentView.length; i++) {\r\n          if (currentView[i] && data.pageZoom[currentView[i]] != data.zoom) {\r\n\r\n            this.trigger('zoomed', [\r\n              currentView[i],\r\n              currentView,\r\n              data.pageZoom[currentView[i]],\r\n              data.zoom]);\r\n\r\n            data.pageZoom[currentView[i]] = data.zoom;\r\n          }\r\n        }\r\n\r\n        return this;\r\n\r\n      } else\r\n        return data.zoom;\r\n\r\n    },\r\n\r\n    // Gets the size of a page\r\n\r\n    _pageSize: function (page, position) {\r\n\r\n      var data = this.data(),\r\n        prop = {};\r\n\r\n      if (data.display == 'single') {\r\n\r\n        prop.width = this.width();\r\n        prop.height = this.height();\r\n\r\n        if (position) {\r\n          prop.top = 0;\r\n          prop.left = 0;\r\n          prop.right = 'auto';\r\n        }\r\n\r\n      } else {\r\n\r\n        var pageWidth = this.width() / 2,\r\n          pageHeight = this.height();\r\n\r\n        if (data.pageObjs[page].hasClass('own-size')) {\r\n          prop.width = data.pageObjs[page].width();\r\n          prop.height = data.pageObjs[page].height();\r\n        } else {\r\n          prop.width = pageWidth;\r\n          prop.height = pageHeight;\r\n        }\r\n\r\n        if (position) {\r\n          var odd = page % 2;\r\n          prop.top = (pageHeight - prop.height) / 2;\r\n\r\n          if (data.direction == 'ltr') {\r\n\r\n            prop[(odd) ? 'right' : 'left'] = pageWidth - prop.width;\r\n            prop[(odd) ? 'left' : 'right'] = 'auto';\r\n\r\n          } else {\r\n\r\n            prop[(odd) ? 'left' : 'right'] = pageWidth - prop.width;\r\n            prop[(odd) ? 'right' : 'left'] = 'auto';\r\n\r\n          }\r\n\r\n        }\r\n      }\r\n\r\n      return prop;\r\n\r\n    },\r\n\r\n    // Prepares the flip effect for a page\r\n\r\n    _makeFlip: function (page) {\r\n\r\n      var data = this.data();\r\n\r\n      if (!data.pages[page] && data.pagePlace[page] == page) {\r\n\r\n        var single = data.display == 'single',\r\n          odd = page % 2;\r\n\r\n        data.pages[page] = data.pageObjs[page].\r\n          css(turnMethods._pageSize.call(this, page)).\r\n          flip({\r\n            page: page,\r\n            next: (odd || single) ? page + 1 : page - 1,\r\n            turn: this\r\n          }).\r\n          flip('disable', data.disabled);\r\n\r\n        // Issue about z-index\r\n        turnMethods._setPageLoc.call(this, page);\r\n\r\n        data.pageZoom[page] = data.zoom;\r\n\r\n      }\r\n\r\n      return data.pages[page];\r\n    },\r\n\r\n    // Makes pages within a range\r\n\r\n    _makeRange: function () {\r\n\r\n      var page, range,\r\n        data = this.data();\r\n\r\n      if (data.totalPages < 1)\r\n        return;\r\n\r\n      range = this.turn('range');\r\n\r\n      for (page = range[0]; page <= range[1]; page++)\r\n        turnMethods._addPage.call(this, page);\r\n\r\n    },\r\n\r\n    // Returns a range of pages that should be in the DOM\r\n    // Example:\r\n    // - page in the current view, return true\r\n    // * page is in the range, return true\r\n    // Otherwise, return false\r\n    //\r\n    // 1 2-3 4-5 6-7 8-9 10-11 12-13\r\n    //   **  **  --   **  **\r\n\r\n    range: function (page) {\r\n\r\n      var remainingPages, left, right, view,\r\n        data = this.data();\r\n\r\n      page = page || data.tpage || data.page || 1;\r\n      view = turnMethods._view.call(this, page);\r\n\r\n      if (page < 1 || page > data.totalPages)\r\n        throw turnError('\"' + page + '\" is not a valid page');\r\n\r\n\r\n      view[1] = view[1] || view[0];\r\n\r\n      if (view[0] >= 1 && view[1] <= data.totalPages) {\r\n\r\n        remainingPages = Math.floor((pagesInDOM - 2) / 2);\r\n\r\n        if (data.totalPages - view[1] > view[0]) {\r\n          left = Math.min(view[0] - 1, remainingPages);\r\n          right = 2 * remainingPages - left;\r\n        } else {\r\n          right = Math.min(data.totalPages - view[1], remainingPages);\r\n          left = 2 * remainingPages - right;\r\n        }\r\n\r\n      } else {\r\n        left = pagesInDOM - 1;\r\n        right = pagesInDOM - 1;\r\n      }\r\n\r\n      return [Math.max(1, view[0] - left),\r\n      Math.min(data.totalPages, view[1] + right)];\r\n\r\n    },\r\n\r\n    // Detects if a page is within the range of `pagesInDOM` from the current view\r\n\r\n    _necessPage: function (page) {\r\n\r\n      if (page === 0)\r\n        return true;\r\n\r\n      var range = this.turn('range');\r\n\r\n      return this.data().pageObjs[page].hasClass('fixed') ||\r\n        (page >= range[0] && page <= range[1]);\r\n\r\n    },\r\n\r\n    // Releases memory by removing pages from the DOM\r\n\r\n    _removeFromDOM: function () {\r\n\r\n      var page, data = this.data();\r\n\r\n      for (page in data.pageWrap)\r\n        if (has(page, data.pageWrap) &&\r\n          !turnMethods._necessPage.call(this, page))\r\n          turnMethods._removePageFromDOM.call(this, page);\r\n\r\n    },\r\n\r\n    // Removes a page from DOM and its internal references\r\n\r\n    _removePageFromDOM: function (page) {\r\n\r\n      var data = this.data();\r\n\r\n      if (data.pages[page]) {\r\n        var dd = data.pages[page].data();\r\n\r\n        flipMethods._moveFoldingPage.call(data.pages[page], false);\r\n\r\n        if (dd.f && dd.f.fwrapper)\r\n          dd.f.fwrapper.remove();\r\n\r\n        data.pages[page].removeData();\r\n        data.pages[page].remove();\r\n        delete data.pages[page];\r\n      }\r\n\r\n      if (data.pageObjs[page])\r\n        data.pageObjs[page].remove();\r\n\r\n      if (data.pageWrap[page]) {\r\n        data.pageWrap[page].remove();\r\n        delete data.pageWrap[page];\r\n      }\r\n\r\n      turnMethods._removeMv.call(this, page);\r\n\r\n      delete data.pagePlace[page];\r\n      delete data.pageZoom[page];\r\n\r\n    },\r\n\r\n    // Removes a page\r\n\r\n    removePage: function (page) {\r\n\r\n      var data = this.data();\r\n\r\n      // Delete all the pages\r\n      if (page == '*') {\r\n\r\n        while (data.totalPages !== 0) {\r\n          this.turn('removePage', data.totalPages);\r\n        }\r\n\r\n      } else {\r\n\r\n        if (page < 1 || page > data.totalPages)\r\n          throw turnError('The page ' + page + ' doesn\\'t exist');\r\n\r\n        if (data.pageObjs[page]) {\r\n\r\n          // Stop animations\r\n          this.turn('stop');\r\n\r\n          // Remove `page`\r\n          turnMethods._removePageFromDOM.call(this, page);\r\n\r\n          delete data.pageObjs[page];\r\n\r\n        }\r\n\r\n        // Move the pages\r\n        turnMethods._movePages.call(this, page, -1);\r\n\r\n        // Resize the size of this flipbook\r\n        data.totalPages = data.totalPages - 1;\r\n\r\n        // Check the current view\r\n\r\n        if (data.page > data.totalPages) {\r\n\r\n          data.page = null;\r\n          turnMethods._fitPage.call(this, data.totalPages);\r\n\r\n        } else {\r\n\r\n          turnMethods._makeRange.call(this);\r\n          this.turn('update');\r\n\r\n        }\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    // Moves pages\r\n\r\n    _movePages: function (from, change) {\r\n\r\n      var page,\r\n        that = this,\r\n        data = this.data(),\r\n        single = data.display == 'single',\r\n        move = function (page) {\r\n\r\n          var next = page + change,\r\n            odd = next % 2,\r\n            className = (odd) ? ' odd ' : ' even ';\r\n\r\n          if (data.pageObjs[page])\r\n            data.pageObjs[next] = data.pageObjs[page].\r\n              removeClass('p' + page + ' odd even').\r\n              addClass('p' + next + className);\r\n\r\n          if (data.pagePlace[page] && data.pageWrap[page]) {\r\n\r\n            data.pagePlace[next] = next;\r\n\r\n            if (data.pageObjs[next].hasClass('fixed'))\r\n              data.pageWrap[next] = data.pageWrap[page].\r\n                attr('page', next);\r\n            else\r\n              data.pageWrap[next] = data.pageWrap[page].\r\n                css(turnMethods._pageSize.call(that, next, true)).\r\n                attr('page', next);\r\n\r\n            if (data.pages[page])\r\n              data.pages[next] = data.pages[page].\r\n                flip('options', {\r\n                  page: next,\r\n                  next: (single || odd) ? next + 1 : next - 1\r\n                });\r\n\r\n            if (change) {\r\n              delete data.pages[page];\r\n              delete data.pagePlace[page];\r\n              delete data.pageZoom[page];\r\n              delete data.pageObjs[page];\r\n              delete data.pageWrap[page];\r\n            }\r\n\r\n          }\r\n\r\n        };\r\n\r\n      if (change > 0)\r\n        for (page = data.totalPages; page >= from; page--)\r\n          move(page);\r\n      else\r\n        for (page = from; page <= data.totalPages; page++)\r\n          move(page);\r\n\r\n    },\r\n\r\n    // Sets or Gets the display mode\r\n\r\n    display: function (display) {\r\n\r\n      var data = this.data(),\r\n        currentDisplay = data.display;\r\n\r\n      if (display === undefined) {\r\n\r\n        return currentDisplay;\r\n\r\n      } else {\r\n\r\n        if ($.inArray(display, displays) == -1)\r\n          throw turnError('\"' + display + '\" is not a value for display');\r\n\r\n        switch (display) {\r\n          case 'single':\r\n\r\n            // Create a temporal page to use as folded page\r\n\r\n            if (!data.pageObjs[0]) {\r\n              this.turn('stop').\r\n                css({ 'overflow': 'hidden' });\r\n\r\n              data.pageObjs[0] = $('<div />',\r\n                { 'class': 'page p-temporal' }).\r\n                css({ width: this.width(), height: this.height() }).\r\n                appendTo(this);\r\n            }\r\n\r\n            this.addClass('shadow');\r\n\r\n            break;\r\n          case 'double':\r\n\r\n            // Remove the temporal page\r\n\r\n            if (data.pageObjs[0]) {\r\n              this.turn('stop').css({ 'overflow': '' });\r\n              data.pageObjs[0].remove();\r\n              delete data.pageObjs[0];\r\n            }\r\n\r\n            this.removeClass('shadow');\r\n\r\n            break;\r\n        }\r\n\r\n\r\n        data.display = display;\r\n\r\n        if (currentDisplay) {\r\n          var size = this.turn('size');\r\n          turnMethods._movePages.call(this, 1, 0);\r\n          this.turn('size', size.width, size.height).\r\n            turn('update');\r\n        }\r\n\r\n        return this;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    // Gets and sets the direction of the flipbook\r\n\r\n    direction: function (dir) {\r\n\r\n      var data = this.data();\r\n\r\n      if (dir === undefined) {\r\n\r\n        return data.direction;\r\n\r\n      } else {\r\n\r\n        dir = dir.toLowerCase();\r\n\r\n        if ($.inArray(dir, directions) == -1)\r\n          throw turnError('\"' + dir + '\" is not a value for direction');\r\n\r\n        if (dir == 'rtl') {\r\n          $(this).attr('dir', 'ltr').\r\n            css({ direction: 'ltr' });\r\n        }\r\n\r\n        data.direction = dir;\r\n\r\n        if (data.done)\r\n          this.turn('size', $(this).width(), $(this).height());\r\n\r\n        return this;\r\n      }\r\n\r\n    },\r\n\r\n    // Detects animation\r\n\r\n    animating: function () {\r\n\r\n      return this.data().pageMv.length > 0;\r\n\r\n    },\r\n\r\n    // Gets the current activated corner\r\n\r\n    corner: function () {\r\n\r\n      var corner,\r\n        page,\r\n        data = this.data();\r\n\r\n      for (page in data.pages) {\r\n        if (has(page, data.pages))\r\n          if ((corner = data.pages[page].flip('corner'))) {\r\n            return corner;\r\n          }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    // Gets the data stored in the flipbook\r\n\r\n    data: function () {\r\n\r\n      return this.data();\r\n\r\n    },\r\n\r\n    // Disables and enables the effect\r\n\r\n    disable: function (disable) {\r\n\r\n      var page,\r\n        data = this.data(),\r\n        view = this.turn('view');\r\n\r\n      data.disabled = disable === undefined || disable === true;\r\n\r\n      for (page in data.pages) {\r\n        if (has(page, data.pages))\r\n          data.pages[page].flip('disable',\r\n            (data.disabled) ? true : $.inArray(parseInt(page, 10), view) == -1);\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    // Disables and enables the effect\r\n\r\n    disabled: function (disable) {\r\n\r\n      if (disable === undefined) {\r\n        return this.data().disabled === true;\r\n      } else {\r\n        return this.turn('disable', disable);\r\n      }\r\n\r\n    },\r\n\r\n    // Gets and sets the size\r\n\r\n    size: function (width, height) {\r\n\r\n      if (width === undefined || height === undefined) {\r\n\r\n        return { width: this.width(), height: this.height() };\r\n\r\n      } else {\r\n\r\n        this.turn('stop');\r\n\r\n        var page, prop,\r\n          data = this.data(),\r\n          pageWidth = (data.display == 'double') ? width / 2 : width;\r\n\r\n        this.css({ width: width, height: height });\r\n\r\n        if (data.pageObjs[0])\r\n          data.pageObjs[0].css({ width: pageWidth, height: height });\r\n\r\n        for (page in data.pageWrap) {\r\n          if (!has(page, data.pageWrap)) continue;\r\n\r\n          prop = turnMethods._pageSize.call(this, page, true);\r\n\r\n          data.pageObjs[page].css({ width: prop.width, height: prop.height });\r\n          data.pageWrap[page].css(prop);\r\n\r\n          if (data.pages[page])\r\n            data.pages[page].css({ width: prop.width, height: prop.height });\r\n        }\r\n\r\n        this.turn('resize');\r\n\r\n        return this;\r\n\r\n      }\r\n    },\r\n\r\n    // Resizes each page\r\n\r\n    resize: function () {\r\n\r\n      var page, data = this.data();\r\n\r\n      if (data.pages[0]) {\r\n        data.pageWrap[0].css({ left: -this.width() });\r\n        data.pages[0].flip('resize', true);\r\n      }\r\n\r\n      for (page = 1; page <= data.totalPages; page++)\r\n        if (data.pages[page])\r\n          data.pages[page].flip('resize', true);\r\n\r\n      turnMethods._updateShadow.call(this);\r\n\r\n      if (data.opts.autoCenter)\r\n        this.turn('center');\r\n\r\n    },\r\n\r\n    // Removes an animation from the cache\r\n\r\n    _removeMv: function (page) {\r\n\r\n      var i, data = this.data();\r\n\r\n      for (i = 0; i < data.pageMv.length; i++)\r\n        if (data.pageMv[i] == page) {\r\n          data.pageMv.splice(i, 1);\r\n          return true;\r\n        }\r\n\r\n      return false;\r\n\r\n    },\r\n\r\n    // Adds an animation to the cache\r\n\r\n    _addMv: function (page) {\r\n\r\n      var data = this.data();\r\n\r\n      turnMethods._removeMv.call(this, page);\r\n      data.pageMv.push(page);\r\n\r\n    },\r\n\r\n    // Gets indexes for a view\r\n\r\n    _view: function (page) {\r\n\r\n      var data = this.data();\r\n\r\n      page = page || data.page;\r\n\r\n      if (data.display == 'double')\r\n        return (page % 2) ? [page - 1, page] : [page, page + 1];\r\n      else\r\n        return [page];\r\n\r\n    },\r\n\r\n    // Gets a view\r\n\r\n    view: function (page) {\r\n\r\n      var data = this.data(),\r\n        view = turnMethods._view.call(this, page);\r\n\r\n      if (data.display == 'double')\r\n        return [(view[0] > 0) ? view[0] : 0,\r\n        (view[1] <= data.totalPages) ? view[1] : 0];\r\n      else\r\n        return [(view[0] > 0 && view[0] <= data.totalPages) ? view[0] : 0];\r\n\r\n    },\r\n\r\n    // Stops animations\r\n\r\n    stop: function (ignore, animate) {\r\n\r\n      if (this.turn('animating')) {\r\n\r\n        var i, opts, page,\r\n          data = this.data();\r\n\r\n        if (data.tpage) {\r\n          data.page = data.tpage;\r\n          delete data['tpage'];\r\n        }\r\n\r\n        for (i = 0; i < data.pageMv.length; i++) {\r\n\r\n          if (!data.pageMv[i] || data.pageMv[i] === ignore)\r\n            continue;\r\n\r\n          page = data.pages[data.pageMv[i]];\r\n          opts = page.data().f.opts;\r\n\r\n          page.flip('hideFoldedPage', animate);\r\n\r\n          if (!animate)\r\n            flipMethods._moveFoldingPage.call(page, false);\r\n\r\n          if (opts.force) {\r\n            opts.next = (opts.page % 2 === 0) ? opts.page - 1 : opts.page + 1;\r\n            delete opts['force'];\r\n          }\r\n\r\n        }\r\n      }\r\n\r\n      this.turn('update');\r\n\r\n      return this;\r\n    },\r\n\r\n    // Gets and sets the number of pages\r\n\r\n    pages: function (pages) {\r\n\r\n      var data = this.data();\r\n\r\n      if (pages) {\r\n\r\n        if (pages < data.totalPages) {\r\n\r\n          for (var page = data.totalPages; page > pages; page--)\r\n            this.turn('removePage', page);\r\n\r\n        }\r\n\r\n        data.totalPages = pages;\r\n        turnMethods._fitPage.call(this, data.page);\r\n\r\n        return this;\r\n\r\n      } else\r\n        return data.totalPages;\r\n\r\n    },\r\n\r\n    // Checks missing pages\r\n\r\n    _missing: function (page) {\r\n\r\n      var data = this.data();\r\n\r\n      if (data.totalPages < 1)\r\n        return;\r\n\r\n      var p,\r\n        range = this.turn('range', page),\r\n        missing = [];\r\n\r\n      for (p = range[0]; p <= range[1]; p++) {\r\n        if (!data.pageObjs[p])\r\n          missing.push(p);\r\n      }\r\n\r\n      if (missing.length > 0)\r\n        this.trigger('missing', [missing]);\r\n\r\n    },\r\n\r\n    // Sets a page without effect\r\n\r\n    _fitPage: function (page) {\r\n\r\n      var data = this.data(),\r\n        newView = this.turn('view', page);\r\n\r\n      turnMethods._missing.call(this, page);\r\n\r\n      if (!data.pageObjs[page])\r\n        return;\r\n\r\n      data.page = page;\r\n\r\n      this.turn('stop');\r\n\r\n      for (var i = 0; i < newView.length; i++) {\r\n\r\n        if (newView[i] && data.pageZoom[newView[i]] != data.zoom) {\r\n\r\n          this.trigger('zoomed', [\r\n            newView[i],\r\n            newView,\r\n            data.pageZoom[newView[i]],\r\n            data.zoom]);\r\n\r\n          data.pageZoom[newView[i]] = data.zoom;\r\n\r\n        }\r\n      }\r\n\r\n      turnMethods._removeFromDOM.call(this);\r\n      turnMethods._makeRange.call(this);\r\n      turnMethods._updateShadow.call(this);\r\n      this.trigger('turned', [page, newView]);\r\n      this.turn('update');\r\n\r\n      if (data.opts.autoCenter)\r\n        this.turn('center');\r\n\r\n    },\r\n\r\n    // Turns the page\r\n\r\n    _turnPage: function (page) {\r\n\r\n      var current,\r\n        next,\r\n        data = this.data(),\r\n        place = data.pagePlace[page],\r\n        view = this.turn('view'),\r\n        newView = this.turn('view', page);\r\n\r\n\r\n      if (data.page != page) {\r\n\r\n        var currentPage = data.page;\r\n\r\n        if (trigger('turning', this, [page, newView]) == 'prevented') {\r\n\r\n          if (currentPage == data.page && $.inArray(place, data.pageMv) != -1)\r\n            data.pages[place].flip('hideFoldedPage', true);\r\n\r\n          return;\r\n\r\n        }\r\n\r\n        if ($.inArray(1, newView) != -1)\r\n          this.trigger('first');\r\n        if ($.inArray(data.totalPages, newView) != -1)\r\n          this.trigger('last');\r\n\r\n      }\r\n\r\n      if (data.display == 'single') {\r\n        current = view[0];\r\n        next = newView[0];\r\n      } else if (view[1] && page > view[1]) {\r\n        current = view[1];\r\n        next = newView[0];\r\n      } else if (view[0] && page < view[0]) {\r\n        current = view[0];\r\n        next = newView[1];\r\n      }\r\n\r\n      var optsCorners = data.opts.turnCorners.split(','),\r\n        flipData = data.pages[current].data().f,\r\n        opts = flipData.opts,\r\n        actualPoint = flipData.point;\r\n\r\n      turnMethods._missing.call(this, page);\r\n\r\n      if (!data.pageObjs[page])\r\n        return;\r\n\r\n      this.turn('stop');\r\n\r\n      data.page = page;\r\n\r\n      turnMethods._makeRange.call(this);\r\n\r\n      data.tpage = next;\r\n\r\n      if (opts.next != next) {\r\n        opts.next = next;\r\n        opts.force = true;\r\n      }\r\n\r\n      this.turn('update');\r\n\r\n      flipData.point = actualPoint;\r\n\r\n      if (flipData.effect == 'hard')\r\n        if (data.direction == 'ltr')\r\n          data.pages[current].flip('turnPage',\r\n            (page > current) ? 'r' : 'l');\r\n        else\r\n          data.pages[current].flip('turnPage',\r\n            (page > current) ? 'l' : 'r');\r\n      else {\r\n        if (data.direction == 'ltr')\r\n          data.pages[current].flip('turnPage',\r\n            optsCorners[(page > current) ? 1 : 0]);\r\n        else\r\n          data.pages[current].flip('turnPage',\r\n            optsCorners[(page > current) ? 0 : 1]);\r\n      }\r\n\r\n    },\r\n\r\n    // Gets and sets a page\r\n\r\n    page: function (page) {\r\n\r\n      var data = this.data();\r\n\r\n      if (page === undefined) {\r\n\r\n        return data.page;\r\n\r\n      } else {\r\n\r\n        if (!data.disabled && !data.destroying) {\r\n\r\n          page = parseInt(page, 10);\r\n\r\n          if (page > 0 && page <= data.totalPages) {\r\n\r\n            if (page != data.page) {\r\n              if (!data.done || $.inArray(page, this.turn('view')) != -1)\r\n                turnMethods._fitPage.call(this, page);\r\n              else\r\n                turnMethods._turnPage.call(this, page);\r\n            }\r\n\r\n            return this;\r\n\r\n          } else {\r\n\r\n            throw turnError('The page ' + page + ' does not exist');\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n\r\n    // Turns to the next view\r\n\r\n    next: function () {\r\n\r\n      return this.turn('page', Math.min(this.data().totalPages,\r\n        turnMethods._view.call(this, this.data().page).pop() + 1));\r\n\r\n    },\r\n\r\n    // Turns to the previous view\r\n\r\n    previous: function () {\r\n\r\n      return this.turn('page', Math.max(1,\r\n        turnMethods._view.call(this, this.data().page).shift() - 1));\r\n\r\n    },\r\n\r\n    // Shows a peeling corner\r\n\r\n    peel: function (corner, animate) {\r\n\r\n      var data = this.data(),\r\n        view = this.turn('view');\r\n\r\n      animate = (animate === undefined) ? true : animate === true;\r\n\r\n      if (corner === false) {\r\n\r\n        this.turn('stop', null, animate);\r\n\r\n      } else {\r\n\r\n        if (data.display == 'single') {\r\n\r\n          data.pages[data.page].flip('peel', corner, animate);\r\n\r\n        } else {\r\n\r\n          var page;\r\n\r\n          if (data.direction == 'ltr') {\r\n\r\n            page = (corner.indexOf('l') != -1) ? view[0] : view[1];\r\n\r\n          } else {\r\n\r\n            page = (corner.indexOf('l') != -1) ? view[1] : view[0];\r\n\r\n          }\r\n\r\n          if (data.pages[page])\r\n            data.pages[page].flip('peel', corner, animate);\r\n\r\n        }\r\n      }\r\n\r\n      return this;\r\n\r\n    },\r\n\r\n    // Adds a motion to the internal list\r\n    // This event is called in context of flip\r\n\r\n    _addMotionPage: function () {\r\n\r\n      var opts = $(this).data().f.opts,\r\n        turn = opts.turn,\r\n        dd = turn.data();\r\n\r\n      turnMethods._addMv.call(turn, opts.page);\r\n\r\n    },\r\n\r\n    // This event is called in context of flip\r\n\r\n    _eventStart: function (e, opts, corner) {\r\n\r\n      var data = opts.turn.data(),\r\n        actualZoom = data.pageZoom[opts.page];\r\n\r\n      if (e.isDefaultPrevented()) {\r\n        turnMethods._updateShadow.call(opts.turn);\r\n        return;\r\n      }\r\n\r\n      if (actualZoom && actualZoom != data.zoom) {\r\n\r\n        opts.turn.trigger('zoomed', [\r\n          opts.page,\r\n          opts.turn.turn('view', opts.page),\r\n          actualZoom,\r\n          data.zoom]);\r\n\r\n        data.pageZoom[opts.page] = data.zoom;\r\n\r\n      }\r\n\r\n      if (data.display == 'single' && corner) {\r\n\r\n        if ((corner.charAt(1) == 'l' && data.direction == 'ltr') ||\r\n          (corner.charAt(1) == 'r' && data.direction == 'rtl')) {\r\n\r\n          opts.next = (opts.next < opts.page) ? opts.next : opts.page - 1;\r\n          opts.force = true;\r\n\r\n        } else {\r\n\r\n          opts.next = (opts.next > opts.page) ? opts.next : opts.page + 1;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      turnMethods._addMotionPage.call(e.target);\r\n      turnMethods._updateShadow.call(opts.turn);\r\n    },\r\n\r\n    // This event is called in context of flip\r\n\r\n    _eventEnd: function (e, opts, turned) {\r\n\r\n      var that = $(e.target),\r\n        data = that.data().f,\r\n        turn = opts.turn,\r\n        dd = turn.data();\r\n\r\n      if (turned) {\r\n\r\n        var tpage = dd.tpage || dd.page;\r\n\r\n        if (tpage == opts.next || tpage == opts.page) {\r\n          delete dd.tpage;\r\n\r\n          turnMethods._fitPage.call(turn, tpage || opts.next, true);\r\n        }\r\n\r\n      } else {\r\n\r\n        turnMethods._removeMv.call(turn, opts.page);\r\n        turnMethods._updateShadow.call(turn);\r\n        turn.turn('update');\r\n\r\n      }\r\n\r\n    },\r\n\r\n    // This event is called in context of flip\r\n\r\n    _eventPressed: function (e) {\r\n\r\n      var page,\r\n        data = $(e.target).data().f,\r\n        turn = data.opts.turn,\r\n        turnData = turn.data(),\r\n        pages = turnData.pages;\r\n\r\n      turnData.mouseAction = true;\r\n\r\n      turn.turn('update');\r\n\r\n      return data.time = new Date().getTime();\r\n\r\n    },\r\n\r\n    // This event is called in context of flip\r\n\r\n    _eventReleased: function (e, point) {\r\n\r\n      var outArea,\r\n        page = $(e.target),\r\n        data = page.data().f,\r\n        turn = data.opts.turn,\r\n        turnData = turn.data();\r\n\r\n      if (turnData.display == 'single') {\r\n        outArea = (point.corner == 'br' || point.corner == 'tr') ?\r\n          point.x < page.width() / 2 :\r\n          point.x > page.width() / 2;\r\n      } else {\r\n        outArea = point.x < 0 || point.x > page.width();\r\n      }\r\n\r\n      if ((new Date()).getTime() - data.time < 200 || outArea) {\r\n\r\n        e.preventDefault();\r\n        turnMethods._turnPage.call(turn, data.opts.next);\r\n\r\n      }\r\n\r\n      turnData.mouseAction = false;\r\n\r\n    },\r\n\r\n    // This event is called in context of flip\r\n\r\n    _flip: function (e) {\r\n\r\n      e.stopPropagation();\r\n\r\n      var opts = $(e.target).data().f.opts;\r\n\r\n      opts.turn.trigger('turn', [opts.next]);\r\n\r\n      if (opts.turn.data().opts.autoCenter) {\r\n        opts.turn.turn('center', opts.next);\r\n      }\r\n\r\n    },\r\n\r\n    //\r\n    _touchStart: function () {\r\n      var data = this.data();\r\n      for (var page in data.pages) {\r\n        if (has(page, data.pages) &&\r\n          flipMethods._eventStart.apply(data.pages[page], arguments) === false) {\r\n          return false;\r\n        }\r\n      }\r\n    },\r\n\r\n    //\r\n    _touchMove: function () {\r\n      var data = this.data();\r\n      for (var page in data.pages) {\r\n        if (has(page, data.pages)) {\r\n          flipMethods._eventMove.apply(data.pages[page], arguments);\r\n        }\r\n      }\r\n    },\r\n\r\n    //\r\n    _touchEnd: function () {\r\n      var data = this.data();\r\n      for (var page in data.pages) {\r\n        if (has(page, data.pages)) {\r\n          flipMethods._eventEnd.apply(data.pages[page], arguments);\r\n        }\r\n      }\r\n    },\r\n\r\n    // Calculate the z-index value for pages during the animation\r\n\r\n    calculateZ: function (mv) {\r\n\r\n      var i, page, nextPage, placePage, dpage,\r\n        that = this,\r\n        data = this.data(),\r\n        view = this.turn('view'),\r\n        currentPage = view[0] || view[1],\r\n        total = mv.length - 1,\r\n        r = { pageZ: {}, partZ: {}, pageV: {} },\r\n\r\n        addView = function (page) {\r\n          var view = that.turn('view', page);\r\n          if (view[0]) r.pageV[view[0]] = true;\r\n          if (view[1]) r.pageV[view[1]] = true;\r\n        };\r\n\r\n      for (i = 0; i <= total; i++) {\r\n        page = mv[i];\r\n        nextPage = data.pages[page].data().f.opts.next;\r\n        placePage = data.pagePlace[page];\r\n        addView(page);\r\n        addView(nextPage);\r\n        dpage = (data.pagePlace[nextPage] == nextPage) ? nextPage : page;\r\n        r.pageZ[dpage] = data.totalPages - Math.abs(currentPage - dpage);\r\n        r.partZ[placePage] = data.totalPages * 2 - total + i;\r\n      }\r\n\r\n      return r;\r\n    },\r\n\r\n    // Updates the z-index and display property of every page\r\n\r\n    update: function () {\r\n\r\n      var page,\r\n        data = this.data();\r\n\r\n      if (this.turn('animating') && data.pageMv[0] !== 0) {\r\n\r\n        // Update motion\r\n\r\n        var p, apage, fixed,\r\n          pos = this.turn('calculateZ', data.pageMv),\r\n          corner = this.turn('corner'),\r\n          actualView = this.turn('view'),\r\n          newView = this.turn('view', data.tpage);\r\n\r\n        for (page in data.pageWrap) {\r\n\r\n          if (!has(page, data.pageWrap))\r\n            continue;\r\n\r\n          fixed = data.pageObjs[page].hasClass('fixed');\r\n\r\n          data.pageWrap[page].css({\r\n            display: (pos.pageV[page] || fixed) ? '' : 'none',\r\n            zIndex:\r\n              (data.pageObjs[page].hasClass('hard') ?\r\n                pos.partZ[page]\r\n                :\r\n                pos.pageZ[page]\r\n              ) || (fixed ? -1 : 0)\r\n          });\r\n\r\n          if ((p = data.pages[page])) {\r\n\r\n            p.flip('z', pos.partZ[page] || null);\r\n\r\n            if (pos.pageV[page])\r\n              p.flip('resize');\r\n\r\n            if (data.tpage) { // Is it turning the page to `tpage`?\r\n\r\n              p.flip('hover', false).\r\n                flip('disable',\r\n                  $.inArray(parseInt(page, 10), data.pageMv) == -1 &&\r\n                  page != newView[0] &&\r\n                  page != newView[1]);\r\n\r\n            } else {\r\n\r\n              p.flip('hover', corner === false).\r\n                flip('disable', page != actualView[0] && page != actualView[1]);\r\n\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        // Update static pages\r\n\r\n        for (page in data.pageWrap) {\r\n\r\n          if (!has(page, data.pageWrap))\r\n            continue;\r\n\r\n          var pageLocation = turnMethods._setPageLoc.call(this, page);\r\n\r\n          if (data.pages[page]) {\r\n            data.pages[page].\r\n              flip('disable', data.disabled || pageLocation != 1).\r\n              flip('hover', true).\r\n              flip('z', null);\r\n          }\r\n        }\r\n      }\r\n\r\n      return this;\r\n    },\r\n\r\n    // Updates the position and size of the flipbook's shadow\r\n\r\n    _updateShadow: function () {\r\n\r\n      var view, view2, shadow,\r\n        data = this.data(),\r\n        width = this.width(),\r\n        height = this.height(),\r\n        pageWidth = (data.display == 'single') ? width : width / 2;\r\n\r\n      view = this.turn('view');\r\n\r\n      if (!data.shadow) {\r\n        data.shadow = $('<div />', {\r\n          'class': 'shadow',\r\n          'css': divAtt(0, 0, 0).css\r\n        }).\r\n          appendTo(this);\r\n      }\r\n\r\n      for (var i = 0; i < data.pageMv.length; i++) {\r\n        if (!view[0] || !view[1])\r\n          break;\r\n\r\n        view = this.turn('view', data.pages[data.pageMv[i]].data().f.opts.next);\r\n        view2 = this.turn('view', data.pageMv[i]);\r\n\r\n        view[0] = view[0] && view2[0];\r\n        view[1] = view[1] && view2[1];\r\n      }\r\n\r\n      if (!view[0]) shadow = (data.direction == 'ltr') ? 1 : 2;\r\n      else if (!view[1]) shadow = (data.direction == 'ltr') ? 2 : 1;\r\n      else shadow = 3;\r\n\r\n      switch (shadow) {\r\n        case 1:\r\n          data.shadow.css({\r\n            width: pageWidth,\r\n            height: height,\r\n            top: 0,\r\n            left: pageWidth\r\n          });\r\n          break;\r\n        case 2:\r\n          data.shadow.css({\r\n            width: pageWidth,\r\n            height: height,\r\n            top: 0,\r\n            left: 0\r\n          });\r\n          break;\r\n        case 3:\r\n          data.shadow.css({\r\n            width: width,\r\n            height: height,\r\n            top: 0,\r\n            left: 0\r\n          });\r\n          break;\r\n      }\r\n\r\n    },\r\n\r\n    // Sets the z-index and display property of a page\r\n    // It depends on the current view\r\n\r\n    _setPageLoc: function (page) {\r\n\r\n      var data = this.data(),\r\n        view = this.turn('view'),\r\n        loc = 0;\r\n\r\n\r\n      if (page == view[0] || page == view[1])\r\n        loc = 1;\r\n      else if (\r\n        (data.display == 'single' && page == view[0] + 1) ||\r\n        (data.display == 'double' && page == view[0] - 2 || page == view[1] + 2)\r\n      )\r\n        loc = 2;\r\n\r\n      if (!this.turn('animating'))\r\n        switch (loc) {\r\n          case 1:\r\n            data.pageWrap[page].css(\r\n              {\r\n                zIndex: data.totalPages,\r\n                display: ''\r\n              });\r\n            break;\r\n          case 2:\r\n            data.pageWrap[page].css(\r\n              {\r\n                zIndex: data.totalPages - 1,\r\n                display: ''\r\n              });\r\n            break;\r\n          case 0:\r\n            data.pageWrap[page].css(\r\n              {\r\n                zIndex: 0,\r\n                display: (data.pageObjs[page].hasClass('fixed')) ? '' : 'none'\r\n              }\r\n            );\r\n            break;\r\n        }\r\n\r\n      return loc;\r\n    },\r\n\r\n    // Gets and sets the options\r\n\r\n    options: function (options) {\r\n\r\n      if (options === undefined) {\r\n\r\n        return this.data().opts;\r\n\r\n      } else {\r\n\r\n        var data = this.data();\r\n\r\n        // Set new values\r\n\r\n        $.extend(data.opts, options);\r\n\r\n        // Set pages\r\n\r\n        if (options.pages)\r\n          this.turn('pages', options.pages);\r\n\r\n        // Set page\r\n\r\n        if (options.page)\r\n          this.turn('page', options.page);\r\n\r\n        // Set display\r\n\r\n        if (options.display)\r\n          this.turn('display', options.display);\r\n\r\n        // Set direction\r\n\r\n        if (options.direction)\r\n          this.turn('direction', options.direction);\r\n\r\n        // Set size\r\n\r\n        if (options.width && options.height)\r\n          this.turn('size', options.width, options.height);\r\n\r\n        // Add event listeners\r\n\r\n        if (options.when)\r\n          for (var eventName in options.when)\r\n            if (has(eventName, options.when)) {\r\n              this.unbind(eventName).\r\n                bind(eventName, options.when[eventName]);\r\n            }\r\n\r\n        return this;\r\n      }\r\n\r\n    },\r\n\r\n    // Gets the current version\r\n\r\n    version: function () {\r\n\r\n      return version;\r\n\r\n    }\r\n  },\r\n\r\n  // Methods and properties for the flip page effect\r\n\r\n  flipMethods = {\r\n\r\n    // Constructor\r\n\r\n    init: function (opts) {\r\n\r\n      this.data({\r\n        f: {\r\n          disabled: false,\r\n          hover: false,\r\n          effect: (this.hasClass('hard')) ? 'hard' : 'sheet'\r\n        }\r\n      });\r\n\r\n      this.flip('options', opts);\r\n\r\n      flipMethods._addPageWrapper.call(this);\r\n\r\n      return this;\r\n    },\r\n\r\n    setData: function (d) {\r\n\r\n      var data = this.data();\r\n\r\n      data.f = $.extend(data.f, d);\r\n\r\n      return this;\r\n    },\r\n\r\n    options: function (opts) {\r\n\r\n      var data = this.data().f;\r\n\r\n      if (opts) {\r\n        flipMethods.setData.call(this,\r\n          { opts: $.extend({}, data.opts || flipOptions, opts) });\r\n        return this;\r\n      } else\r\n        return data.opts;\r\n\r\n    },\r\n\r\n    z: function (z) {\r\n\r\n      var data = this.data().f;\r\n\r\n      data.opts['z-index'] = z;\r\n\r\n      if (data.fwrapper)\r\n        data.fwrapper.css({\r\n          zIndex: z || parseInt(data.parent.css('z-index'), 10) || 0\r\n        });\r\n\r\n      return this;\r\n    },\r\n\r\n    _cAllowed: function () {\r\n\r\n      var data = this.data().f,\r\n        page = data.opts.page,\r\n        turnData = data.opts.turn.data(),\r\n        odd = page % 2;\r\n\r\n      if (data.effect == 'hard') {\r\n\r\n        return (turnData.direction == 'ltr') ?\r\n          [(odd) ? 'r' : 'l'] :\r\n          [(odd) ? 'l' : 'r'];\r\n\r\n      } else {\r\n\r\n        if (turnData.display == 'single') {\r\n\r\n          if (page == 1)\r\n            return (turnData.direction == 'ltr') ?\r\n              corners['forward'] : corners['backward'];\r\n          else if (page == turnData.totalPages)\r\n            return (turnData.direction == 'ltr') ?\r\n              corners['backward'] : corners['forward'];\r\n          else\r\n            return corners['all'];\r\n\r\n        } else {\r\n\r\n          return (turnData.direction == 'ltr') ?\r\n            corners[(odd) ? 'forward' : 'backward']\r\n            :\r\n            corners[(odd) ? 'backward' : 'forward'];\r\n\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n\r\n    _cornerActivated: function (p) {\r\n\r\n      var data = this.data().f,\r\n        width = this.width(),\r\n        height = this.height(),\r\n        point = { x: p.x, y: p.y, corner: '' },\r\n        csz = data.opts.cornerSize;\r\n\r\n      if (point.x <= 0 || point.y <= 0 || point.x >= width || point.y >= height)\r\n        return false;\r\n\r\n      var allowedCorners = flipMethods._cAllowed.call(this);\r\n\r\n      switch (data.effect) {\r\n        case 'hard':\r\n\r\n          if (point.x > width - csz)\r\n            point.corner = 'r';\r\n          else if (point.x < csz)\r\n            point.corner = 'l';\r\n          else\r\n            return false;\r\n\r\n          break;\r\n\r\n        case 'sheet':\r\n\r\n          if (point.y < csz)\r\n            point.corner += 't';\r\n          else if (point.y >= height - csz)\r\n            point.corner += 'b';\r\n          else\r\n            return false;\r\n\r\n          if (point.x <= csz)\r\n            point.corner += 'l';\r\n          else if (point.x >= width - csz)\r\n            point.corner += 'r';\r\n          else\r\n            return false;\r\n\r\n          break;\r\n      }\r\n\r\n      return (!point.corner || $.inArray(point.corner, allowedCorners) == -1) ?\r\n        false : point;\r\n\r\n    },\r\n\r\n    _isIArea: function (e) {\r\n\r\n      var pos = this.data().f.parent.offset();\r\n\r\n      e = (isTouch && e.originalEvent) ? e.originalEvent.touches[0] : e;\r\n\r\n      return flipMethods._cornerActivated.call(this,\r\n        {\r\n          x: e.pageX - pos.left,\r\n          y: e.pageY - pos.top\r\n        });\r\n\r\n    },\r\n\r\n    _c: function (corner, opts) {\r\n\r\n      opts = opts || 0;\r\n\r\n      switch (corner) {\r\n        case 'tl':\r\n          return point2D(opts, opts);\r\n        case 'tr':\r\n          return point2D(this.width() - opts, opts);\r\n        case 'bl':\r\n          return point2D(opts, this.height() - opts);\r\n        case 'br':\r\n          return point2D(this.width() - opts, this.height() - opts);\r\n        case 'l':\r\n          return point2D(opts, 0);\r\n        case 'r':\r\n          return point2D(this.width() - opts, 0);\r\n      }\r\n\r\n    },\r\n\r\n    _c2: function (corner) {\r\n\r\n      switch (corner) {\r\n        case 'tl':\r\n          return point2D(this.width() * 2, 0);\r\n        case 'tr':\r\n          return point2D(-this.width(), 0);\r\n        case 'bl':\r\n          return point2D(this.width() * 2, this.height());\r\n        case 'br':\r\n          return point2D(-this.width(), this.height());\r\n        case 'l':\r\n          return point2D(this.width() * 2, 0);\r\n        case 'r':\r\n          return point2D(-this.width(), 0);\r\n      }\r\n\r\n    },\r\n\r\n    _foldingPage: function () {\r\n\r\n      var data = this.data().f;\r\n\r\n      if (!data)\r\n        return;\r\n\r\n      var opts = data.opts;\r\n\r\n      if (opts.turn) {\r\n        data = opts.turn.data();\r\n        if (data.display == 'single')\r\n          return (opts.next > 1 || opts.page > 1) ? data.pageObjs[0] : null;\r\n        else\r\n          return data.pageObjs[opts.next];\r\n      }\r\n\r\n    },\r\n\r\n    _backGradient: function () {\r\n\r\n      var data = this.data().f,\r\n        turnData = data.opts.turn.data(),\r\n        gradient = turnData.opts.gradients && (turnData.display == 'single' ||\r\n          (data.opts.page != 2 && data.opts.page != turnData.totalPages - 1));\r\n\r\n      if (gradient && !data.bshadow)\r\n        data.bshadow = $('<div/>', divAtt(0, 0, 1)).\r\n          css({ 'position': '', width: this.width(), height: this.height() }).\r\n          appendTo(data.parent);\r\n\r\n      return gradient;\r\n\r\n    },\r\n\r\n    type: function () {\r\n\r\n      return this.data().f.effect;\r\n\r\n    },\r\n\r\n    resize: function (full) {\r\n\r\n      var data = this.data().f,\r\n        turnData = data.opts.turn.data(),\r\n        width = this.width(),\r\n        height = this.height();\r\n\r\n      switch (data.effect) {\r\n        case 'hard':\r\n\r\n          if (full) {\r\n            data.wrapper.css({ width: width, height: height });\r\n            data.fpage.css({ width: width, height: height });\r\n            if (turnData.opts.gradients) {\r\n              data.ashadow.css({ width: width, height: height });\r\n              data.bshadow.css({ width: width, height: height });\r\n            }\r\n          }\r\n\r\n          break;\r\n        case 'sheet':\r\n\r\n          if (full) {\r\n            var size = Math.round(Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2)));\r\n\r\n            data.wrapper.css({ width: size, height: size });\r\n            data.fwrapper.css({ width: size, height: size }).\r\n              children(':first-child').\r\n              css({ width: width, height: height });\r\n\r\n            data.fpage.css({ width: width, height: height });\r\n\r\n            if (turnData.opts.gradients)\r\n              data.ashadow.css({ width: width, height: height });\r\n\r\n            if (flipMethods._backGradient.call(this))\r\n              data.bshadow.css({ width: width, height: height });\r\n          }\r\n\r\n          if (data.parent.is(':visible')) {\r\n            var offset = findPos(data.parent[0]);\r\n\r\n            data.fwrapper.css({\r\n              top: offset.top,\r\n              left: offset.left\r\n            });\r\n\r\n            //if (data.opts.turn) {\r\n            offset = findPos(data.opts.turn[0]);\r\n            data.fparent.css({ top: -offset.top, left: -offset.left });\r\n            //}\r\n          }\r\n\r\n          this.flip('z', data.opts['z-index']);\r\n\r\n          break;\r\n      }\r\n\r\n    },\r\n\r\n    // Prepares the page by adding a general wrapper and another objects\r\n\r\n    _addPageWrapper: function () {\r\n\r\n      var att,\r\n        data = this.data().f,\r\n        turnData = data.opts.turn.data(),\r\n        parent = this.parent();\r\n\r\n      data.parent = parent;\r\n\r\n      if (!data.wrapper)\r\n        switch (data.effect) {\r\n          case 'hard':\r\n\r\n            var cssProperties = {};\r\n            cssProperties[vendor + 'transform-style'] = 'preserve-3d';\r\n            cssProperties[vendor + 'backface-visibility'] = 'hidden';\r\n\r\n            data.wrapper = $('<div/>', divAtt(0, 0, 2)).\r\n              css(cssProperties).\r\n              appendTo(parent).\r\n              prepend(this);\r\n\r\n            data.fpage = $('<div/>', divAtt(0, 0, 1)).\r\n              css(cssProperties).\r\n              appendTo(parent);\r\n\r\n            if (turnData.opts.gradients) {\r\n              data.ashadow = $('<div/>', divAtt(0, 0, 0)).\r\n                hide().\r\n                appendTo(parent);\r\n\r\n              data.bshadow = $('<div/>', divAtt(0, 0, 0));\r\n            }\r\n\r\n            break;\r\n          case 'sheet':\r\n\r\n            var width = this.width(),\r\n              height = this.height(),\r\n              size = Math.round(Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2)));\r\n\r\n            data.fparent = data.opts.turn.data().fparent;\r\n\r\n            if (!data.fparent) {\r\n              var fparent = $('<div/>', { css: { 'pointer-events': 'none' } }).hide();\r\n              fparent.data().flips = 0;\r\n              fparent.css(divAtt(0, 0, 'auto', 'visible').css).\r\n                appendTo(data.opts.turn);\r\n\r\n              data.opts.turn.data().fparent = fparent;\r\n              data.fparent = fparent;\r\n            }\r\n\r\n            this.css({ position: 'absolute', top: 0, left: 0, bottom: 'auto', right: 'auto' });\r\n\r\n            data.wrapper = $('<div/>', divAtt(0, 0, this.css('z-index'))).\r\n              appendTo(parent).\r\n              prepend(this);\r\n\r\n            data.fwrapper = $('<div/>', divAtt(parent.offset().top, parent.offset().left)).\r\n              hide().\r\n              appendTo(data.fparent);\r\n\r\n            data.fpage = $('<div/>', divAtt(0, 0, 0, 'visible')).\r\n              css({ cursor: 'default' }).\r\n              appendTo(data.fwrapper);\r\n\r\n            if (turnData.opts.gradients)\r\n              data.ashadow = $('<div/>', divAtt(0, 0, 1)).\r\n                appendTo(data.fpage);\r\n\r\n            flipMethods.setData.call(this, data);\r\n\r\n            break;\r\n        }\r\n\r\n      // Set size\r\n      flipMethods.resize.call(this, true);\r\n\r\n    },\r\n\r\n    // Takes a 2P point from the screen and applies the transformation\r\n\r\n    _fold: function (point) {\r\n\r\n      var data = this.data().f,\r\n        turnData = data.opts.turn.data(),\r\n        o = flipMethods._c.call(this, point.corner),\r\n        width = this.width(),\r\n        height = this.height();\r\n\r\n      switch (data.effect) {\r\n\r\n        case 'hard':\r\n\r\n          if (point.corner == 'l')\r\n            point.x = Math.min(Math.max(point.x, 0), width * 2);\r\n          else\r\n            point.x = Math.max(Math.min(point.x, width), -width);\r\n\r\n          var leftPos,\r\n            shadow,\r\n            gradientX,\r\n            fpageOrigin,\r\n            parentOrigin,\r\n            totalPages = turnData.totalPages,\r\n            zIndex = data.opts['z-index'] || totalPages,\r\n            parentCss = { 'overflow': 'visible' },\r\n            relX = (o.x) ? (o.x - point.x) / width : point.x / width,\r\n            angle = relX * 90,\r\n            half = angle < 90;\r\n\r\n          switch (point.corner) {\r\n            case 'l':\r\n\r\n              fpageOrigin = '0% 50%';\r\n              parentOrigin = '100% 50%';\r\n\r\n              if (half) {\r\n                leftPos = 0;\r\n                shadow = data.opts.next - 1 > 0;\r\n                gradientX = 1;\r\n              } else {\r\n                leftPos = '100%';\r\n                shadow = data.opts.page + 1 < totalPages;\r\n                gradientX = 0;\r\n              }\r\n\r\n              break;\r\n            case 'r':\r\n\r\n              fpageOrigin = '100% 50%';\r\n              parentOrigin = '0% 50%';\r\n              angle = -angle;\r\n              width = -width;\r\n\r\n              if (half) {\r\n                leftPos = 0;\r\n                shadow = data.opts.next + 1 < totalPages;\r\n                gradientX = 0;\r\n              } else {\r\n                leftPos = '-100%';\r\n                shadow = data.opts.page != 1;\r\n                gradientX = 1;\r\n              }\r\n\r\n              break;\r\n          }\r\n\r\n          parentCss[vendor + 'perspective-origin'] = parentOrigin;\r\n\r\n          data.wrapper.transform('rotateY(' + angle + 'deg)' +\r\n            'translate3d(0px, 0px, ' + (this.attr('depth') || 0) + 'px)', parentOrigin);\r\n\r\n          data.fpage.transform('translateX(' + width + 'px) rotateY(' + (180 + angle) + 'deg)', fpageOrigin);\r\n\r\n          data.parent.css(parentCss);\r\n\r\n          if (half) {\r\n            relX = -relX + 1;\r\n            data.wrapper.css({ zIndex: zIndex + 1 });\r\n            data.fpage.css({ zIndex: zIndex });\r\n          } else {\r\n            relX = relX - 1;\r\n            data.wrapper.css({ zIndex: zIndex });\r\n            data.fpage.css({ zIndex: zIndex + 1 });\r\n          }\r\n\r\n          if (turnData.opts.gradients) {\r\n            if (shadow)\r\n              data.ashadow.css({\r\n                display: '',\r\n                left: leftPos,\r\n                backgroundColor: 'rgba(0,0,0,' + (0.5 * relX) + ')'\r\n              }).\r\n                transform('rotateY(0deg)');\r\n            else\r\n              data.ashadow.hide();\r\n\r\n            data.bshadow.css({ opacity: -relX + 1 });\r\n\r\n            if (half) {\r\n              if (data.bshadow.parent()[0] != data.wrapper[0]) {\r\n                data.bshadow.appendTo(data.wrapper);\r\n              }\r\n            } else {\r\n              if (data.bshadow.parent()[0] != data.fpage[0]) {\r\n                data.bshadow.appendTo(data.fpage);\r\n              }\r\n            }\r\n            /*data.bshadow.css({\r\n              backgroundColor: 'rgba(0,0,0,'+(0.1)+')'\r\n            })*/\r\n            gradient(data.bshadow, point2D(gradientX * 100, 0), point2D((-gradientX + 1) * 100, 0),\r\n              [[0, 'rgba(0,0,0,0.3)'], [1, 'rgba(0,0,0,0)']], 2);\r\n\r\n          }\r\n\r\n          break;\r\n        case 'sheet':\r\n\r\n          var that = this,\r\n            a = 0,\r\n            alpha = 0,\r\n            beta,\r\n            px,\r\n            gradientEndPointA,\r\n            gradientEndPointB,\r\n            gradientStartVal,\r\n            gradientSize,\r\n            gradientOpacity,\r\n            shadowVal,\r\n            mv = point2D(0, 0),\r\n            df = point2D(0, 0),\r\n            tr = point2D(0, 0),\r\n            folding = flipMethods._foldingPage.call(this),\r\n            tan = Math.tan(alpha),\r\n            ac = turnData.opts.acceleration,\r\n            h = data.wrapper.height(),\r\n            top = point.corner.substr(0, 1) == 't',\r\n            left = point.corner.substr(1, 1) == 'l',\r\n\r\n            compute = function () {\r\n\r\n              var rel = point2D(0, 0);\r\n              var middle = point2D(0, 0);\r\n\r\n              rel.x = (o.x) ? o.x - point.x : point.x;\r\n\r\n              if (!hasRot) {\r\n                rel.y = 0;\r\n              } else {\r\n                rel.y = (o.y) ? o.y - point.y : point.y;\r\n              }\r\n\r\n              middle.x = (left) ? width - rel.x / 2 : point.x + rel.x / 2;\r\n              middle.y = rel.y / 2;\r\n\r\n              var alpha = A90 - Math.atan2(rel.y, rel.x),\r\n                gamma = alpha - Math.atan2(middle.y, middle.x),\r\n                distance = Math.max(0, Math.sin(gamma) * Math.sqrt(Math.pow(middle.x, 2) + Math.pow(middle.y, 2)));\r\n\r\n              a = deg(alpha);\r\n\r\n              tr = point2D(distance * Math.sin(alpha), distance * Math.cos(alpha));\r\n\r\n              if (alpha > A90) {\r\n                tr.x = tr.x + Math.abs(tr.y * rel.y / rel.x);\r\n                tr.y = 0;\r\n                if (Math.round(tr.x * Math.tan(PI - alpha)) < height) {\r\n                  point.y = Math.sqrt(Math.pow(height, 2) + 2 * middle.x * rel.x);\r\n                  if (top) point.y = height - point.y;\r\n                  return compute();\r\n                }\r\n              }\r\n\r\n              if (alpha > A90) {\r\n                var beta = PI - alpha, dd = h - height / Math.sin(beta);\r\n                mv = point2D(Math.round(dd * Math.cos(beta)), Math.round(dd * Math.sin(beta)));\r\n                if (left) mv.x = - mv.x;\r\n                if (top) mv.y = - mv.y;\r\n              }\r\n\r\n              px = Math.round(tr.y / Math.tan(alpha) + tr.x);\r\n\r\n              var side = width - px,\r\n                sideX = side * Math.cos(alpha * 2),\r\n                sideY = side * Math.sin(alpha * 2);\r\n              df = point2D(\r\n                Math.round((left ? side - sideX : px + sideX)),\r\n                Math.round((top) ? sideY : height - sideY));\r\n\r\n              // Gradients\r\n              if (turnData.opts.gradients) {\r\n\r\n                gradientSize = side * Math.sin(alpha);\r\n\r\n                var endingPoint = flipMethods._c2.call(that, point.corner),\r\n                  far = Math.sqrt(Math.pow(endingPoint.x - point.x, 2) + Math.pow(endingPoint.y - point.y, 2)) / width;\r\n\r\n                shadowVal = Math.sin(A90 * ((far > 1) ? 2 - far : far));\r\n\r\n                gradientOpacity = Math.min(far, 1);\r\n\r\n\r\n                gradientStartVal = gradientSize > 100 ? (gradientSize - 100) / gradientSize : 0;\r\n\r\n                gradientEndPointA = point2D(\r\n                  gradientSize * Math.sin(alpha) / width * 100,\r\n                  gradientSize * Math.cos(alpha) / height * 100);\r\n\r\n\r\n                if (flipMethods._backGradient.call(that)) {\r\n\r\n                  gradientEndPointB = point2D(\r\n                    gradientSize * 1.2 * Math.sin(alpha) / width * 100,\r\n                    gradientSize * 1.2 * Math.cos(alpha) / height * 100);\r\n\r\n                  if (!left) gradientEndPointB.x = 100 - gradientEndPointB.x;\r\n                  if (!top) gradientEndPointB.y = 100 - gradientEndPointB.y;\r\n\r\n                }\r\n\r\n              }\r\n\r\n              tr.x = Math.round(tr.x);\r\n              tr.y = Math.round(tr.y);\r\n\r\n              return true;\r\n            },\r\n\r\n            transform = function (tr, c, x, a) {\r\n\r\n              var f = ['0', 'auto'], mvW = (width - h) * x[0] / 100, mvH = (height - h) * x[1] / 100,\r\n                cssA = { left: f[c[0]], top: f[c[1]], right: f[c[2]], bottom: f[c[3]] },\r\n                cssB = {},\r\n                aliasingFk = (a != 90 && a != -90) ? (left ? -1 : 1) : 0,\r\n                origin = x[0] + '% ' + x[1] + '%';\r\n\r\n              that.css(cssA).\r\n                transform(rotate(a) + translate(tr.x + aliasingFk, tr.y, ac), origin);\r\n\r\n              data.fpage.css(cssA).transform(\r\n                rotate(a) +\r\n                translate(tr.x + df.x - mv.x - width * x[0] / 100, tr.y + df.y - mv.y - height * x[1] / 100, ac) +\r\n                rotate((180 / a - 2) * a),\r\n                origin);\r\n\r\n              data.wrapper.transform(translate(-tr.x + mvW - aliasingFk, -tr.y + mvH, ac) + rotate(-a), origin);\r\n\r\n              data.fwrapper.transform(translate(-tr.x + mv.x + mvW, -tr.y + mv.y + mvH, ac) + rotate(-a), origin);\r\n\r\n              if (turnData.opts.gradients) {\r\n\r\n                if (x[0])\r\n                  gradientEndPointA.x = 100 - gradientEndPointA.x;\r\n\r\n                if (x[1])\r\n                  gradientEndPointA.y = (100 - gradientEndPointA.y);\r\n\r\n                cssB['box-shadow'] = '0 0 20px rgba(0,0,0,' + (0.5 * shadowVal) + ')';\r\n                folding.css(cssB);\r\n\r\n                gradient(data.ashadow,\r\n                  point2D(left ? 100 : 0, top ? 0 : 100),\r\n                  point2D(gradientEndPointA.x, gradientEndPointA.y),\r\n                  [[gradientStartVal, 'rgba(0,0,0,0)'],\r\n                  [((1 - gradientStartVal) * 0.8) + gradientStartVal, 'rgba(0,0,0,' + (0.2 * gradientOpacity) + ')'],\r\n                  [1, 'rgba(255,255,255,' + (0.2 * gradientOpacity) + ')']],\r\n                  3,\r\n                  alpha);\r\n\r\n                if (flipMethods._backGradient.call(that))\r\n                  gradient(data.bshadow,\r\n                    point2D(left ? 0 : 100, top ? 0 : 100),\r\n                    point2D(gradientEndPointB.x, gradientEndPointB.y),\r\n                    [[0.6, 'rgba(0,0,0,0)'],\r\n                    [0.8, 'rgba(0,0,0,' + (0.3 * gradientOpacity) + ')'],\r\n                    [1, 'rgba(0,0,0,0)']\r\n                    ],\r\n                    3);\r\n              }\r\n\r\n            };\r\n\r\n          switch (point.corner) {\r\n            case 'l':\r\n\r\n\r\n              break;\r\n            case 'r':\r\n\r\n\r\n              break;\r\n            case 'tl':\r\n              point.x = Math.max(point.x, 1);\r\n              compute();\r\n              transform(tr, [1, 0, 0, 1], [100, 0], a);\r\n              break;\r\n            case 'tr':\r\n              point.x = Math.min(point.x, width - 1);\r\n              compute();\r\n              transform(point2D(-tr.x, tr.y), [0, 0, 0, 1], [0, 0], -a);\r\n              break;\r\n            case 'bl':\r\n              point.x = Math.max(point.x, 1);\r\n              compute();\r\n              transform(point2D(tr.x, -tr.y), [1, 1, 0, 0], [100, 100], -a);\r\n              break;\r\n            case 'br':\r\n              point.x = Math.min(point.x, width - 1);\r\n              compute();\r\n              transform(point2D(-tr.x, -tr.y), [0, 1, 1, 0], [0, 100], a);\r\n              break;\r\n          }\r\n\r\n          break;\r\n      }\r\n\r\n      data.point = point;\r\n\r\n    },\r\n\r\n    _moveFoldingPage: function (move) {\r\n\r\n      var data = this.data().f;\r\n\r\n      if (!data)\r\n        return;\r\n\r\n      var turn = data.opts.turn,\r\n        turnData = turn.data(),\r\n        place = turnData.pagePlace;\r\n\r\n      if (move) {\r\n\r\n        var nextPage = data.opts.next;\r\n\r\n        if (place[nextPage] != data.opts.page) {\r\n\r\n          if (data.folding)\r\n            flipMethods._moveFoldingPage.call(this, false);\r\n\r\n          var folding = flipMethods._foldingPage.call(this);\r\n\r\n          folding.appendTo(data.fpage);\r\n          place[nextPage] = data.opts.page;\r\n          data.folding = nextPage;\r\n        }\r\n\r\n        turn.turn('update');\r\n\r\n      } else {\r\n\r\n        if (data.folding) {\r\n\r\n          if (turnData.pages[data.folding]) {\r\n\r\n            // If we have flip available\r\n\r\n            var flipData = turnData.pages[data.folding].data().f;\r\n\r\n            turnData.pageObjs[data.folding].\r\n              appendTo(flipData.wrapper);\r\n\r\n          } else if (turnData.pageWrap[data.folding]) {\r\n\r\n            // If we have the pageWrapper\r\n\r\n            turnData.pageObjs[data.folding].\r\n              appendTo(turnData.pageWrap[data.folding]);\r\n\r\n          }\r\n\r\n          if (data.folding in place) {\r\n            place[data.folding] = data.folding;\r\n          }\r\n\r\n          delete data.folding;\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n    _showFoldedPage: function (c, animate) {\r\n\r\n      var folding = flipMethods._foldingPage.call(this),\r\n        dd = this.data(),\r\n        data = dd.f,\r\n        visible = data.visible;\r\n\r\n      if (folding) {\r\n\r\n        if (!visible || !data.point || data.point.corner != c.corner) {\r\n\r\n          var corner = (\r\n            data.status == 'hover' ||\r\n            data.status == 'peel' ||\r\n            data.opts.turn.data().mouseAction) ?\r\n            c.corner : null;\r\n\r\n          visible = false;\r\n\r\n          if (trigger('start', this, [data.opts, corner]) == 'prevented')\r\n            return false;\r\n\r\n        }\r\n\r\n        if (animate) {\r\n\r\n          var that = this,\r\n            point = (data.point && data.point.corner == c.corner) ?\r\n              data.point : flipMethods._c.call(this, c.corner, 1);\r\n\r\n          this.animatef({\r\n            from: [point.x, point.y],\r\n            to: [c.x, c.y],\r\n            duration: 500,\r\n            frame: function (v) {\r\n              c.x = Math.round(v[0]);\r\n              c.y = Math.round(v[1]);\r\n              flipMethods._fold.call(that, c);\r\n            }\r\n          });\r\n\r\n        } else {\r\n\r\n          flipMethods._fold.call(this, c);\r\n\r\n          if (dd.effect && !dd.effect.turning)\r\n            this.animatef(false);\r\n\r\n        }\r\n\r\n        if (!visible) {\r\n\r\n          switch (data.effect) {\r\n            case 'hard':\r\n\r\n              data.visible = true;\r\n              flipMethods._moveFoldingPage.call(this, true);\r\n              data.fpage.show();\r\n              if (data.opts.shadows)\r\n                data.bshadow.show();\r\n\r\n              break;\r\n            case 'sheet':\r\n\r\n              data.visible = true;\r\n              data.fparent.show().data().flips++;\r\n              flipMethods._moveFoldingPage.call(this, true);\r\n              data.fwrapper.show();\r\n              if (data.bshadow)\r\n                data.bshadow.show();\r\n\r\n              break;\r\n          }\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    hide: function () {\r\n\r\n      var data = this.data().f,\r\n        turnData = data.opts.turn.data(),\r\n        folding = flipMethods._foldingPage.call(this);\r\n\r\n      switch (data.effect) {\r\n        case 'hard':\r\n\r\n          if (turnData.opts.gradients) {\r\n            data.bshadowLoc = 0;\r\n            data.bshadow.remove();\r\n            data.ashadow.hide();\r\n          }\r\n\r\n          data.wrapper.transform('');\r\n          data.fpage.hide();\r\n\r\n          break;\r\n        case 'sheet':\r\n\r\n          if ((--data.fparent.data().flips) === 0)\r\n            data.fparent.hide();\r\n\r\n          this.css({ left: 0, top: 0, right: 'auto', bottom: 'auto' }).\r\n            transform('');\r\n\r\n          data.wrapper.transform('');\r\n\r\n          data.fwrapper.hide();\r\n\r\n          if (data.bshadow)\r\n            data.bshadow.hide();\r\n\r\n          folding.transform('');\r\n\r\n          break;\r\n      }\r\n\r\n      data.visible = false;\r\n\r\n      return this;\r\n    },\r\n\r\n    hideFoldedPage: function (animate) {\r\n\r\n      var data = this.data().f;\r\n\r\n      if (!data.point) return;\r\n\r\n      var that = this,\r\n        p1 = data.point,\r\n        hide = function () {\r\n          data.point = null;\r\n          data.status = '';\r\n          that.flip('hide');\r\n          that.trigger('end', [data.opts, false]);\r\n        };\r\n\r\n      if (animate) {\r\n\r\n        var p4 = flipMethods._c.call(this, p1.corner),\r\n          top = (p1.corner.substr(0, 1) == 't'),\r\n          delta = (top) ? Math.min(0, p1.y - p4.y) / 2 : Math.max(0, p1.y - p4.y) / 2,\r\n          p2 = point2D(p1.x, p1.y + delta),\r\n          p3 = point2D(p4.x, p4.y - delta);\r\n\r\n        this.animatef({\r\n          from: 0,\r\n          to: 1,\r\n          frame: function (v) {\r\n            var np = bezier(p1, p2, p3, p4, v);\r\n            p1.x = np.x;\r\n            p1.y = np.y;\r\n            flipMethods._fold.call(that, p1);\r\n          },\r\n          complete: hide,\r\n          duration: 800,\r\n          hiding: true\r\n        });\r\n\r\n      } else {\r\n\r\n        this.animatef(false);\r\n        hide();\r\n\r\n      }\r\n    },\r\n\r\n    turnPage: function (corner) {\r\n\r\n      var that = this,\r\n        data = this.data().f,\r\n        turnData = data.opts.turn.data();\r\n\r\n      corner = {\r\n        corner: (data.corner) ?\r\n          data.corner.corner :\r\n          corner || flipMethods._cAllowed.call(this)[0]\r\n      };\r\n\r\n      var p1 = data.point ||\r\n        flipMethods._c.call(this,\r\n          corner.corner,\r\n          (data.opts.turn) ? turnData.opts.elevation : 0),\r\n        p4 = flipMethods._c2.call(this, corner.corner);\r\n\r\n      this.trigger('flip').\r\n        animatef({\r\n          from: 0,\r\n          to: 1,\r\n          frame: function (v) {\r\n\r\n            var np = bezier(p1, p1, p4, p4, v);\r\n            corner.x = np.x;\r\n            corner.y = np.y;\r\n            flipMethods._showFoldedPage.call(that, corner);\r\n\r\n          },\r\n          complete: function () {\r\n\r\n            that.trigger('end', [data.opts, true]);\r\n\r\n          },\r\n          duration: turnData.opts.duration,\r\n          turning: true\r\n        });\r\n\r\n      data.corner = null;\r\n    },\r\n\r\n    moving: function () {\r\n\r\n      return 'effect' in this.data();\r\n\r\n    },\r\n\r\n    isTurning: function () {\r\n\r\n      return this.flip('moving') && this.data().effect.turning;\r\n\r\n    },\r\n\r\n    corner: function () {\r\n\r\n      return this.data().f.corner;\r\n\r\n    },\r\n\r\n    _eventStart: function (e) {\r\n\r\n      var data = this.data().f,\r\n        turn = data.opts.turn;\r\n\r\n      if (!data.corner && !data.disabled && !this.flip('isTurning') &&\r\n        data.opts.page == turn.data().pagePlace[data.opts.page]) {\r\n\r\n        data.corner = flipMethods._isIArea.call(this, e);\r\n\r\n        if (data.corner && flipMethods._foldingPage.call(this)) {\r\n\r\n          this.trigger('pressed', [data.point]);\r\n          flipMethods._showFoldedPage.call(this, data.corner);\r\n\r\n          return false;\r\n\r\n        } else\r\n          data.corner = null;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    _eventMove: function (e) {\r\n\r\n      var data = this.data().f;\r\n\r\n      if (!data.disabled) {\r\n\r\n        e = (isTouch) ? e.originalEvent.touches : [e];\r\n\r\n        if (data.corner) {\r\n\r\n          var pos = data.parent.offset();\r\n          data.corner.x = e[0].pageX - pos.left;\r\n          data.corner.y = e[0].pageY - pos.top;\r\n          flipMethods._showFoldedPage.call(this, data.corner);\r\n\r\n        } else if (data.hover && !this.data().effect && this.is(':visible')) {\r\n\r\n          var point = flipMethods._isIArea.call(this, e[0]);\r\n\r\n          if (point) {\r\n\r\n            if ((data.effect == 'sheet' && point.corner.length == 2) || data.effect == 'hard') {\r\n              data.status = 'hover';\r\n              var origin = flipMethods._c.call(this, point.corner, data.opts.cornerSize / 2);\r\n              point.x = origin.x;\r\n              point.y = origin.y;\r\n              flipMethods._showFoldedPage.call(this, point, true);\r\n            }\r\n\r\n          } else {\r\n\r\n            if (data.status == 'hover') {\r\n              data.status = '';\r\n              flipMethods.hideFoldedPage.call(this, true);\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n\r\n    _eventEnd: function () {\r\n\r\n      var data = this.data().f,\r\n        corner = data.corner;\r\n\r\n      if (!data.disabled && corner) {\r\n        if (trigger('released', this, [data.point || corner]) != 'prevented') {\r\n          flipMethods.hideFoldedPage.call(this, true);\r\n        }\r\n      }\r\n\r\n      data.corner = null;\r\n\r\n    },\r\n\r\n    disable: function (disable) {\r\n\r\n      flipMethods.setData.call(this, { 'disabled': disable });\r\n      return this;\r\n\r\n    },\r\n\r\n    hover: function (hover) {\r\n\r\n      flipMethods.setData.call(this, { 'hover': hover });\r\n      return this;\r\n\r\n    },\r\n\r\n    peel: function (corner, animate) {\r\n\r\n      var data = this.data().f;\r\n\r\n      if (corner) {\r\n\r\n        if ($.inArray(corner, corners.all) == -1)\r\n          throw turnError('Corner ' + corner + ' is not permitted');\r\n\r\n        if ($.inArray(corner, flipMethods._cAllowed.call(this)) != -1) {\r\n\r\n          var point = flipMethods._c.call(this, corner, data.opts.cornerSize / 2);\r\n\r\n          data.status = 'peel';\r\n\r\n          flipMethods._showFoldedPage.call(this,\r\n            {\r\n              corner: corner,\r\n              x: point.x,\r\n              y: point.y\r\n            }, animate);\r\n\r\n        }\r\n\r\n\r\n      } else {\r\n\r\n        data.status = '';\r\n\r\n        flipMethods.hideFoldedPage.call(this, animate);\r\n\r\n      }\r\n\r\n      return this;\r\n    }\r\n  };\r\n\r\n\r\n// Processes classes\r\n\r\nfunction dec(that, methods, args) {\r\n\r\n  if (!args[0] || typeof (args[0]) == 'object')\r\n    return methods.init.apply(that, args);\r\n\r\n  else if (methods[args[0]])\r\n    return methods[args[0]].apply(that, Array.prototype.slice.call(args, 1));\r\n\r\n  else\r\n    throw turnError(args[0] + ' is not a method or property');\r\n\r\n}\r\n\r\n\r\n// Attributes for a layer\r\n\r\nfunction divAtt(top, left, zIndex, overf) {\r\n\r\n  return {\r\n    'css': {\r\n      position: 'absolute',\r\n      top: top,\r\n      left: left,\r\n      'overflow': overf || 'hidden',\r\n      zIndex: zIndex || 'auto'\r\n    }\r\n  };\r\n\r\n}\r\n\r\n// Gets a 2D point from a bezier curve of four points\r\n\r\nfunction bezier(p1, p2, p3, p4, t) {\r\n\r\n  var a = 1 - t,\r\n    b = a * a * a,\r\n    c = t * t * t;\r\n\r\n  return point2D(Math.round(b * p1.x + 3 * t * a * a * p2.x + 3 * t * t * a * p3.x + c * p4.x),\r\n    Math.round(b * p1.y + 3 * t * a * a * p2.y + 3 * t * t * a * p3.y + c * p4.y));\r\n\r\n}\r\n\r\n// Converts an angle from degrees to radians\r\n\r\nfunction rad(degrees) {\r\n\r\n  return degrees / 180 * PI;\r\n\r\n}\r\n\r\n// Converts an angle from radians to degrees\r\n\r\nfunction deg(radians) {\r\n\r\n  return radians / PI * 180;\r\n\r\n}\r\n\r\n// Gets a 2D point\r\n\r\nfunction point2D(x, y) {\r\n\r\n  return { x: x, y: y };\r\n\r\n}\r\n\r\n// Webkit 534.3 on Android wrongly repaints elements that use overflow:hidden + rotation\r\n\r\nfunction rotationAvailable() {\r\n  var parts;\r\n\r\n  if ((parts = /AppleWebkit\\/([0-9\\.]+)/i.exec(navigator.userAgent))) {\r\n    var webkitVersion = parseFloat(parts[1]);\r\n    return (webkitVersion > 534.3);\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n\r\n// Returns the traslate value\r\n\r\nfunction translate(x, y, use3d) {\r\n\r\n  return (has3d && use3d) ? ' translate3d(' + x + 'px,' + y + 'px, 0px) '\r\n    : ' translate(' + x + 'px, ' + y + 'px) ';\r\n\r\n}\r\n\r\n// Returns the rotation value\r\n\r\nfunction rotate(degrees) {\r\n\r\n  return ' rotate(' + degrees + 'deg) ';\r\n\r\n}\r\n\r\n// Checks if a property belongs to an object\r\n\r\nfunction has(property, object) {\r\n\r\n  return Object.prototype.hasOwnProperty.call(object, property);\r\n\r\n}\r\n\r\n// Gets the CSS3 vendor prefix\r\n\r\nfunction getPrefix() {\r\n\r\n  var vendorPrefixes = ['Moz', 'Webkit', 'Khtml', 'O', 'ms'],\r\n    len = vendorPrefixes.length,\r\n    vendor = '';\r\n\r\n  while (len--)\r\n    if ((vendorPrefixes[len] + 'Transform') in document.body.style)\r\n      vendor = '-' + vendorPrefixes[len].toLowerCase() + '-';\r\n\r\n  return vendor;\r\n\r\n}\r\n\r\n// Detects the transitionEnd Event\r\n\r\nfunction getTransitionEnd() {\r\n\r\n  var t,\r\n    el = document.createElement('fakeelement'),\r\n    transitions = {\r\n      'transition': 'transitionend',\r\n      'OTransition': 'oTransitionEnd',\r\n      'MSTransition': 'transitionend',\r\n      'MozTransition': 'transitionend',\r\n      'WebkitTransition': 'webkitTransitionEnd'\r\n    };\r\n\r\n  for (t in transitions) {\r\n    if (el.style[t] !== undefined) {\r\n      return transitions[t];\r\n    }\r\n  }\r\n}\r\n\r\n// Gradients\r\n\r\nfunction gradient(obj, p0, p1, colors, numColors) {\r\n\r\n  var j, cols = [];\r\n\r\n  if (vendor == '-webkit-') {\r\n\r\n    for (j = 0; j < numColors; j++)\r\n      cols.push('color-stop(' + colors[j][0] + ', ' + colors[j][1] + ')');\r\n\r\n    obj.css({\r\n      'background-image':\r\n        '-webkit-gradient(linear, ' +\r\n        p0.x + '% ' +\r\n        p0.y + '%,' +\r\n        p1.x + '% ' +\r\n        p1.y + '%, ' +\r\n        cols.join(',') + ' )'\r\n    });\r\n  } else {\r\n\r\n    p0 = { x: p0.x / 100 * obj.width(), y: p0.y / 100 * obj.height() };\r\n    p1 = { x: p1.x / 100 * obj.width(), y: p1.y / 100 * obj.height() };\r\n\r\n    var dx = p1.x - p0.x,\r\n      dy = p1.y - p0.y,\r\n      angle = Math.atan2(dy, dx),\r\n      angle2 = angle - Math.PI / 2,\r\n      diagonal = Math.abs(obj.width() * Math.sin(angle2)) + Math.abs(obj.height() * Math.cos(angle2)),\r\n      gradientDiagonal = Math.sqrt(dy * dy + dx * dx),\r\n      corner = point2D((p1.x < p0.x) ? obj.width() : 0, (p1.y < p0.y) ? obj.height() : 0),\r\n      slope = Math.tan(angle),\r\n      inverse = -1 / slope,\r\n      x = (inverse * corner.x - corner.y - slope * p0.x + p0.y) / (inverse - slope),\r\n      c = { x: x, y: inverse * x - inverse * corner.x + corner.y },\r\n      segA = (Math.sqrt(Math.pow(c.x - p0.x, 2) + Math.pow(c.y - p0.y, 2)));\r\n\r\n    for (j = 0; j < numColors; j++)\r\n      cols.push(' ' + colors[j][1] + ' ' + ((segA + gradientDiagonal * colors[j][0]) * 100 / diagonal) + '%');\r\n\r\n    obj.css({ 'background-image': vendor + 'linear-gradient(' + (-angle) + 'rad,' + cols.join(',') + ')' });\r\n  }\r\n}\r\n\r\n\r\n// Triggers an event\r\n\r\nfunction trigger(eventName, context, args) {\r\n\r\n  var event = $.Event(eventName);\r\n  context.trigger(event, args);\r\n  if (event.isDefaultPrevented())\r\n    return 'prevented';\r\n  else if (event.isPropagationStopped())\r\n    return 'stopped';\r\n  else\r\n    return '';\r\n}\r\n\r\n// JS Errors\r\n\r\nfunction turnError(message) {\r\n\r\n  function TurnJsError(message) {\r\n    this.name = \"TurnJsError\";\r\n    this.message = message;\r\n  }\r\n\r\n  TurnJsError.prototype = new Error();\r\n  TurnJsError.prototype.constructor = TurnJsError;\r\n  return new TurnJsError(message);\r\n\r\n}\r\n\r\n// Find the offset of an element ignoring its transformation\r\n\r\nfunction findPos(obj) {\r\n\r\n  var offset = { top: 0, left: 0 };\r\n\r\n  do {\r\n    offset.left += obj.offsetLeft;\r\n    offset.top += obj.offsetTop;\r\n  } while ((obj = obj.offsetParent));\r\n\r\n  return offset;\r\n\r\n}\r\n\r\n// Checks if there's hard page compatibility\r\n// IE9 is the only browser that does not support hard pages\r\n\r\nfunction hasHardPage() {\r\n  return (navigator.userAgent.indexOf('MSIE 9.0') == -1);\r\n}\r\n\r\n// Request an animation\r\n\r\nwindow.requestAnim = (function () {\r\n  return window.requestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    window.oRequestAnimationFrame ||\r\n    window.msRequestAnimationFrame ||\r\n    function (callback) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    };\r\n\r\n})();\r\n\r\n// Extend $.fn\r\n\r\n$.extend($.fn, {\r\n\r\n  flip: function () {\r\n    return dec($(this[0]), flipMethods, arguments);\r\n  },\r\n\r\n  turn: function () {\r\n    return dec($(this[0]), turnMethods, arguments);\r\n  },\r\n\r\n  transform: function (transform, origin) {\r\n\r\n    var properties = {};\r\n\r\n    if (origin)\r\n      properties[vendor + 'transform-origin'] = origin;\r\n\r\n    properties[vendor + 'transform'] = transform;\r\n\r\n    return this.css(properties);\r\n\r\n  },\r\n\r\n  animatef: function (point) {\r\n\r\n    var data = this.data();\r\n\r\n    if (data.effect)\r\n      data.effect.stop();\r\n\r\n    if (point) {\r\n\r\n      if (!point.to.length) point.to = [point.to];\r\n      if (!point.from.length) point.from = [point.from];\r\n\r\n      var diff = [],\r\n        len = point.to.length,\r\n        animating = true,\r\n        that = this,\r\n        time = (new Date()).getTime(),\r\n        frame = function () {\r\n\r\n          if (!data.effect || !animating)\r\n            return;\r\n\r\n          var v = [],\r\n            timeDiff = Math.min(point.duration, (new Date()).getTime() - time);\r\n\r\n          for (var i = 0; i < len; i++)\r\n            v.push(data.effect.easing(1, timeDiff, point.from[i], diff[i], point.duration));\r\n\r\n          point.frame((len == 1) ? v[0] : v);\r\n\r\n          if (timeDiff == point.duration) {\r\n            delete data['effect'];\r\n            that.data(data);\r\n            if (point.complete)\r\n              point.complete();\r\n          } else {\r\n            window.requestAnim(frame);\r\n          }\r\n        };\r\n\r\n      for (var i = 0; i < len; i++)\r\n        diff.push(point.to[i] - point.from[i]);\r\n\r\n      data.effect = $.extend({\r\n        stop: function () {\r\n          animating = false;\r\n        },\r\n        easing: function (x, t, b, c, data) {\r\n          return c * Math.sqrt(1 - (t = t / data - 1) * t) + b;\r\n        }\r\n      }, point);\r\n\r\n      this.data(data);\r\n\r\n      frame();\r\n\r\n    } else {\r\n\r\n      delete data['effect'];\r\n\r\n    }\r\n  }\r\n});\r\n\r\n// Export some globals\r\n\r\n$.isTouch = isTouch;\r\n$.mouseEvents = mouseEvents;\r\n$.cssPrefix = getPrefix;\r\n$.cssTransitionEnd = getTransitionEnd;\r\n$.findPos = findPos;\r\n","import React from 'react';\r\nimport { tween, styler, easing, spring } from \"popmotion\";\r\n\r\nclass CompassButton extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.compassRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    const{isActive} = this.props;\r\n    if(isActive !== prevProps.isActive){\r\n      if(isActive){\r\n        this.hoverHandle();\r\n      }\r\n      else{\r\n        this.stopHover();\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  animateNeedle = () => {\r\n    const needle = styler(this.compassRef.current.querySelector(\"#needle\"));\r\n    const rotateNeedle = tween({\r\n      \r\n      from: {rotate :0},\r\n      to:{rotate:360},\r\n      duration:600,\r\n      loop:1,\r\n      ease: easing.linear\r\n    });\r\n\r\n    this.needleRotation = rotateNeedle.start(needle.set);\r\n    this.stopHover();\r\n  };\r\n\r\n  stopNeedleAnimation =()=>{\r\n    this.needleRotation && this.needleRotation.stop();\r\n  };\r\n  \r\n  hoverHandle = () =>{\r\n    const compass = styler(this.compassRef.current.querySelector(\"#compass\"));\r\n    const scaleNeedle = spring({\r\n      from:{scale:1},\r\n      to:{scale:1.2},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.needleScaling = scaleNeedle.start(compass.set);\r\n  }\r\n\r\n  stopHover = () =>{\r\n    const compass = styler(this.compassRef.current.querySelector(\"#compass\"));\r\n    const scaleNeedle = spring({\r\n      from:{scale:1.2},\r\n      to:{scale:1},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.needleScaling = scaleNeedle.start(compass.set);\r\n  }\r\n\r\n  render(){\r\n    console.log(\"Helloooo\");\r\n    //const{play} = this.props;\r\n    return(\r\n      <div className=\"sidebar-button\" onMouseOver={this.hoverHandle} onMouseOut={this.stopHover} onClick={this.animateNeedle}>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\" >\r\n      \r\n        <g id=\"compassFull\" ref={this.compassRef} >\r\n          <g id=\"compass\">\r\n          <circle class=\"compass_circle\" cx=\"251.56\" cy=\"260.92\" r=\"121.23\" fill=\"rgba(0,0,0,0)\" stroke-width=\"6px\" stroke=\"black\"/>\r\n          <g id=\"needle\">\r\n            <polygon class=\"compass_needle\" fill=\"none\" stroke-width=\"6px\" stroke=\"black\" points=\"315.88 196.6 291.31 236.35 266.75 276.11 227 300.67 187.24 325.23 211.81 285.48 236.37 245.73 276.12 221.16 315.88 196.6\"/>\r\n            <line class=\"compass_needle\" fill=\"none\" stroke-width=\"6px\" stroke=\"black\" x1=\"266.75\" y1=\"276.11\" x2=\"236.37\" y2=\"245.73\"/>\r\n          </g>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CompassButton;","import React from 'react';\r\nimport { tween, styler, easing,  spring } from \"popmotion\";\r\n\r\nclass PawprintButton extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.compassRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    const{isActive} = this.props;\r\n    if(isActive !== prevProps.isActive){\r\n      if(isActive){\r\n        this.animateNeedle();\r\n      }\r\n      else{\r\n        this.stopNeedleAnimation();\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  animatePaws = () => {\r\n    const leftPalm = styler(this.compassRef.current.querySelector(\"#paw-path\"));\r\n\r\n    const appear = tween({\r\n      from: {pathLength :0},\r\n      to:{pathLength :100},\r\n      duration:1000,\r\n      ease: easing.linear\r\n    });\r\n\r\n    this.needleRotation = appear.start(leftPalm.set);\r\n    this.stopHover();\r\n  };\r\n\r\n  stopNeedleAnimation =()=>{\r\n    this.needleRotation && this.needleRotation.stop();\r\n  };\r\n  \r\n  hoverHandle = () =>{\r\n    const paws = styler(this.compassRef.current.querySelector(\"#paws\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1},\r\n      to:{scale:1.2},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(paws.set);\r\n  }\r\n\r\n  stopHover = () =>{\r\n    const paws = styler(this.compassRef.current.querySelector(\"#paws\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1.2},\r\n      to:{scale:1},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(paws.set);\r\n  }\r\n\r\n  render(){\r\n    console.log(\"Helloooo\");\r\n    //const{play} = this.props;\r\n    return(\r\n      <div className=\"sidebar-button\" onMouseOver={this.hoverHandle} onMouseOut={this.stopHover} onClick={this.animatePaws}>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\" >\r\n        \r\n        <g id=\"compassFull\" ref={this.compassRef} >\r\n          <g id=\"paws\">\r\n              <path fill=\"black\"  stroke=\"black\" id =\"paw-path\" d=\"M185.51,216.24h0a13,13,0,0,1,7,2.11c16,10,26.8,22.37,33.16,37.87,1.08,2.63,1.23,4.83.45,6.54-1.17,2.55-4.33,4.06-6.78,4.88-3.79,1.27-7.81,1.46-13.08,1.58h-.32A21.62,21.62,0,0,1,203,269a23.41,23.41,0,0,0-3.24-.22c-6,0-12,2.31-18.33,7.09a31.69,31.69,0,0,1-10,5.09,13.73,13.73,0,0,1-3.94.62c-2.36,0-6.45-.79-7.32-6-3.48-21,1.67-39.3,15.29-54.37a13.78,13.78,0,0,1,10.12-4.92m0-5a18.66,18.66,0,0,0-13.83,6.57c-15.06,16.66-20.14,36.63-16.51,58.54,1.1,6.65,6,10.22,12.25,10.22a19,19,0,0,0,5.38-.83,36.85,36.85,0,0,0,11.6-5.89c4.78-3.61,9.83-6.09,15.32-6.08a18.41,18.41,0,0,1,2.55.17,26.14,26.14,0,0,0,3.64.29h.44c5.12-.12,9.92-.29,14.55-1.84,9-3,12.95-9.32,9.36-18.06-7.07-17.23-18.91-30-35.13-40.2a18,18,0,0,0-9.62-2.88Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M311.65,302.38h0c8.12,0,12.3,2.84,16,10.87,3.13,6.87,4.67,16.07,4.71,28.13-.2,1.92-.28,3.91-.35,5.83-.16,4.2-.32,8.53-1.85,12.42-2.42,6.18-5.2,7-7.6,7a15.21,15.21,0,0,1-4.59-.84c-4.81-1.54-9.45-4.4-14.61-9a26.46,26.46,0,0,0-18-7.05l-1.1,0q-.63,0-1.26,0a33.47,33.47,0,0,1-12.32-2.37c-5.24-2.06-6.74-5.29-5-10.8C269.81,323.18,296,303,310,302.41l1.64,0m0-5c-.61,0-1.22,0-1.86,0-16.21.71-44.11,22.22-48.94,37.73-2.48,8,.21,13.88,8,16.94A38.46,38.46,0,0,0,283,354.81l1.45,0,.91,0A21.33,21.33,0,0,1,300,360.55c4.84,4.3,10.17,8,16.4,10a20.07,20.07,0,0,0,6.12,1.08c5.68,0,9.6-3.39,12.26-10.18s1.86-13.85,2.54-19.81c0-13.06-1.76-23-5.16-30.47-4.46-9.79-10.33-13.81-20.5-13.8Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M356.33,253.48h0a8.11,8.11,0,0,1,5.9,2.2,9.91,9.91,0,0,1,2.49,7.21c0,11.37-11,24.49-22,26.48a15.53,15.53,0,0,1-2.86.28,7.29,7.29,0,0,1-5.36-1.84c-1.82-1.84-2.2-4.84-2.2-7,0-10.71,10.08-24,20.3-26.76a14.21,14.21,0,0,1,3.75-.54m0-5a19.4,19.4,0,0,0-5.07.71c-12.4,3.4-23.94,18.6-24,31.58,0,8.78,4.74,13.88,12.56,13.88a21.91,21.91,0,0,0,3.75-.35c13.44-2.43,26.08-17.61,26.13-31.39,0-8.83-5.51-14.43-13.39-14.43Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M187.61,152.91h0c3.06,0,6,2,8.24,5.74a25.9,25.9,0,0,1,3.58,15.29v.29l0,.3c.44,6.44-1.71,12.33-6.38,17.53-1.92,2.14-4.08,3.27-6.25,3.27-2.34,0-4.69-1.36-6.63-3.83-6.51-8.33-6.93-24.48-.86-33.23,2.39-3.46,5.34-5.36,8.29-5.36m0-5c-4.44,0-8.93,2.49-12.4,7.51-7.31,10.55-6.82,29.11,1,39.16,3,3.81,6.76,5.75,10.57,5.75,3.49,0,7-1.62,10-4.93,5.43-6,8.19-13.15,7.65-21.21a30.92,30.92,0,0,0-4.31-18.14c-3.3-5.42-7.87-8.14-12.51-8.14Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M140.48,165.25h0a13.21,13.21,0,0,1,4.57.89c9.56,3.56,17.63,15.43,17.62,25.91v.14c.14,5.53-.87,8.22-3.73,9.94a7.93,7.93,0,0,1-4.15,1.22c-2.11,0-4.44-.85-7.14-2.61-10.11-6.6-15.2-15.5-15.13-26.47,0-5.56,3.08-9,8-9m0-5c-7.39,0-12.91,5.34-13,14-.09,13.4,6.4,23.51,17.4,30.69a18.37,18.37,0,0,0,9.87,3.42,12.88,12.88,0,0,0,6.72-1.94c5.43-3.25,6.31-8.62,6.16-14.35,0-12.64-9.3-26.29-20.87-30.6a18.13,18.13,0,0,0-6.32-1.21Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M311.61,230.11v5c3.29,0,6.37,2.26,8.45,6.18a26.2,26.2,0,0,1,2.77,13.61v.45a24.43,24.43,0,0,1-6.44,18.13c-2.22,2.47-4.72,3.83-7.06,3.83-2.68,0-5.27-1.77-7.3-5-5.38-8.5-4.66-24.58,1.46-32.46,2.37-3.06,5.25-4.75,8.12-4.75v-5m0,0c-4.25,0-8.6,2.2-12.08,6.68-7.37,9.52-8.21,28-1.73,38.21,3.07,4.84,7.22,7.31,11.53,7.31,3.69,0,7.48-1.81,10.78-5.49a29.36,29.36,0,0,0,7.72-21.72A31.16,31.16,0,0,0,324.48,239c-3.1-5.84-7.91-8.84-12.87-8.84Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M366.13,298.53h0c5.6,0,6.44,4.63,6.45,7.38,0,9.43-8.2,20.44-17.24,23.1a13.21,13.21,0,0,1-3.75.6,5.94,5.94,0,0,1-4.42-1.6c-1.34-1.37-2-3.65-2-6.58.17-9.5,9.06-20.48,18.29-22.58a12,12,0,0,1,2.64-.32m0-5a16.77,16.77,0,0,0-3.75.44c-11.49,2.62-22,15.54-22.18,27.37-.16,8.29,4.38,13.27,11.39,13.27a18.29,18.29,0,0,0,5.16-.8c11.24-3.31,20.85-16.18,20.83-27.91,0-7.62-4.64-12.37-11.45-12.37Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M127.17,210v5c10.94,0,23.36,10.59,23.72,20.23a5.2,5.2,0,0,1-1.31,4c-1.39,1.44-4,2.24-7.27,2.24h-.17c-10.11-.08-20.89-8.85-23.07-18.76a5.85,5.85,0,0,1,4.38-7.25,13.49,13.49,0,0,1,3.72-.49v-5m0,0a18.7,18.7,0,0,0-5.08.68,10.86,10.86,0,0,0-7.9,13.13c2.67,12.12,15.54,22.59,27.91,22.69h.21c8.64,0,13.85-4.39,13.58-11.46-.48-12.7-15.6-25-28.72-25Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M270,266.29h0a8.67,8.67,0,0,1,4.75,1.67c6.55,4.45,10.14,11.84,10.12,20.84,0,.43,0,.86,0,1.3a9.51,9.51,0,0,1,0,1.32c-1,6-2.39,8.47-5.61,9.74a5.65,5.65,0,0,1-2.1.44c-2.26,0-4.63-1.93-7.07-4.07-6.3-5.55-9.27-18-6.24-26.06.73-1.94,2.49-5.18,6.11-5.18m0-5c-4.64,0-8.74,3-10.79,8.42-3.73,10-.34,24.56,7.62,31.57,3.07,2.71,6.32,5.32,10.37,5.32a10.66,10.66,0,0,0,3.93-.79c6.19-2.43,7.78-7.81,8.72-13.59a22.94,22.94,0,0,0,0-3.42c0-10.69-4.38-19.59-12.31-25a13.47,13.47,0,0,0-7.56-2.54Z\"/>\r\n              <path fill=\"black\"  stroke=\"black\" class=\"cls-1\" d=\"M221.29,178.55v5a6.64,6.64,0,0,1,5.11,2.73c3.76,4.56,5.43,9.44,5,14.5l0,.3v.29c.2,6.32-1.35,11.22-4.87,15.43-1.69,2-3.62,3.09-5.58,3.09s-4-1.15-5.72-3.24c-6.19-7.62-5.73-23.3.91-30.52a7.21,7.21,0,0,1,5.18-2.58v-5m0,0a12.06,12.06,0,0,0-8.86,4.2c-8.32,9-8.87,27.51-1.1,37.06,2.75,3.38,6.17,5.08,9.59,5.08s6.69-1.62,9.42-4.88c4.46-5.34,6.25-11.6,6-18.79.59-6.71-1.73-12.8-6.11-18.12a11.6,11.6,0,0,0-9-4.55Z\"/>              \r\n          </g>\r\n        </g>\r\n      </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PawprintButton;","import React from 'react';\r\nimport { tween, styler, easing,  spring } from \"popmotion\";\r\n\r\nclass BookstackButton extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.bookRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    const{isActive} = this.props;\r\n    if(isActive !== prevProps.isActive){\r\n      if(isActive){\r\n        this.animateNeedle();\r\n      }\r\n      else{\r\n        this.stopNeedleAnimation();\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  animatePaws = () => {\r\n    const leftPalm = styler(this.bookRef.current.querySelector(\"#book\"));\r\n\r\n    const appear = tween({\r\n      from: {pathLength :0},\r\n      to:{pathLength :100},\r\n      duration:1000,\r\n      ease: easing.linear\r\n    });\r\n\r\n    this.needleRotation = appear.start(leftPalm.set);\r\n    this.stopHover();\r\n  };\r\n\r\n  stopNeedleAnimation =()=>{\r\n    this.needleRotation && this.needleRotation.stop();\r\n  };\r\n  \r\n  hoverHandle = () =>{\r\n    const book = styler(this.bookRef.current.querySelector(\"#book\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1},\r\n      to:{scale:1.2},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(book.set);\r\n  }\r\n\r\n  stopHover = () =>{\r\n    const book = styler(this.bookRef.current.querySelector(\"#book\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1.2},\r\n      to:{scale:1},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(book.set);\r\n  }\r\n\r\n  render(){\r\n    console.log(\"Helloooo\");\r\n    //const{play} = this.props;\r\n    return(\r\n      <div className=\"sidebar-button\" onMouseOver={this.hoverHandle} onMouseOut={this.stopHover} onClick={this.animatePaws}>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\" >\r\n      \r\n        <g id=\"compassFull\" ref={this.bookRef} >\r\n          <g id=\"book\">\r\n            <rect fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x=\"124.55\" y=\"162.41\" width=\"123.37\" height=\"197.02\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"147.65\" y1=\"195.74\" x2=\"224.82\" y2=\"195.74\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"147.65\" y1=\"222.28\" x2=\"224.82\" y2=\"222.28\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"147.65\" y1=\"248.82\" x2=\"224.82\" y2=\"248.82\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"147.65\" y1=\"275.36\" x2=\"224.82\" y2=\"275.36\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"147.65\" y1=\"328.44\" x2=\"224.82\" y2=\"328.44\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"147.65\" y1=\"301.9\" x2=\"224.82\" y2=\"301.9\"/>\r\n            <rect fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x=\"247.92\" y=\"162.41\" width=\"123.37\" height=\"197.02\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"271.02\" y1=\"195.74\" x2=\"348.19\" y2=\"195.74\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"271.02\" y1=\"222.28\" x2=\"348.19\" y2=\"222.28\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"271.02\" y1=\"248.82\" x2=\"348.19\" y2=\"248.82\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"271.02\" y1=\"275.36\" x2=\"348.19\" y2=\"275.36\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"271.02\" y1=\"328.44\" x2=\"348.19\" y2=\"328.44\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"271.02\" y1=\"301.9\" x2=\"348.19\" y2=\"301.9\"/>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookstackButton;","import React from 'react';\r\nimport { tween, styler, easing,  spring } from \"popmotion\";\r\n\r\nclass BookstackButton extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.compassRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    const{isActive} = this.props;\r\n    if(isActive !== prevProps.isActive){\r\n      if(isActive){\r\n        this.animateNeedle();\r\n      }\r\n      else{\r\n        this.stopNeedleAnimation();\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  animatePaws = () => {\r\n    const leftPalm = styler(this.compassRef.current.querySelector(\"#book\"));\r\n\r\n    const appear = tween({\r\n      from: {pathLength :0},\r\n      to:{pathLength :100},\r\n      duration:1000,\r\n      ease: easing.linear\r\n    });\r\n\r\n    this.needleRotation = appear.start(leftPalm.set);\r\n    this.stopHover();\r\n  };\r\n\r\n  stopNeedleAnimation =()=>{\r\n    this.needleRotation && this.needleRotation.stop();\r\n  };\r\n  \r\n  hoverHandle = () =>{\r\n    const book = styler(this.compassRef.current.querySelector(\"#book\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1},\r\n      to:{scale:1.2},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(book.set);\r\n  }\r\n\r\n  stopHover = () =>{\r\n    const book = styler(this.compassRef.current.querySelector(\"#book\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1.2},\r\n      to:{scale:1},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(book.set);\r\n  }\r\n\r\n  render(){\r\n    console.log(\"Helloooo\");\r\n    //const{play} = this.props;\r\n    return(\r\n      <div className=\"sidebar-button\" onMouseOver={this.hoverHandle} onMouseOut={this.stopHover} onClick={this.animatePaws}>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\" >\r\n      \r\n        <g id=\"compassFull\" ref={this.compassRef} >\r\n          <g id=\"book\">\r\n            <path fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" d=\"M294.62,186.92v75a21.71,21.71,0,0,1-21.71,21.71H185.76l-38.85,28.58,12.85-28.58h-9A21.7,21.7,0,0,1,129,261.92v-75a21.7,21.7,0,0,1,21.7-21.71H272.91A21.71,21.71,0,0,1,294.62,186.92Z\"/>\r\n            <path fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" d=\"M373.6,242.21v75a21.72,21.72,0,0,1-21.71,21.71h-9l12.85,28.58-38.84-28.58H229.73A21.73,21.73,0,0,1,208,317.22V283.63h64.9a21.71,21.71,0,0,0,21.71-21.71V220.51h57.27A21.7,21.7,0,0,1,373.6,242.21Z\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"153.93\" y1=\"192.1\" x2=\"271.14\" y2=\"192.1\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"153.93\" y1=\"214.89\" x2=\"271.14\" y2=\"214.89\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"153.93\" y1=\"237.69\" x2=\"271.14\" y2=\"237.69\"/>\r\n            <line fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" x1=\"153.93\" y1=\"259.33\" x2=\"208.44\" y2=\"259.33\"/>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookstackButton;","import React from 'react';\r\nimport { tween, styler, easing,  spring } from \"popmotion\";\r\n\r\nclass BookstackButton extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.compassRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    const{isActive} = this.props;\r\n    if(isActive !== prevProps.isActive){\r\n      if(isActive){\r\n        this.animateNeedle();\r\n      }\r\n      else{\r\n        this.stopNeedleAnimation();\r\n      }\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  animatePaws = () => {\r\n    const leftPalm = styler(this.compassRef.current.querySelector(\"#book\"));\r\n\r\n    const appear = tween({\r\n      from: {pathLength :0},\r\n      to:{pathLength :100},\r\n      duration:1000,\r\n      ease: easing.linear\r\n    });\r\n\r\n    this.needleRotation = appear.start(leftPalm.set);\r\n    this.stopHover();\r\n  };\r\n\r\n  stopNeedleAnimation =()=>{\r\n    this.needleRotation && this.needleRotation.stop();\r\n  };\r\n  \r\n  hoverHandle = () =>{\r\n    const book = styler(this.compassRef.current.querySelector(\"#book\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1},\r\n      to:{scale:1.2},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(book.set);\r\n  }\r\n\r\n  stopHover = () =>{\r\n    const book = styler(this.compassRef.current.querySelector(\"#book\"));\r\n    const scalePaws = spring({\r\n      from:{scale:1.2},\r\n      to:{scale:1},\r\n      duration:200,\r\n      ease: easing.linear\r\n    });\r\n    this.pawScaling = scalePaws.start(book.set);\r\n  }\r\n\r\n  render(){\r\n    console.log(\"Helloooo\");\r\n    //const{play} = this.props;\r\n    return(\r\n      <div className=\"sidebar-button\" onMouseOver={this.hoverHandle} onMouseOut={this.stopHover} onClick={this.animatePaws}>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\" >\r\n      \r\n        <g id=\"compassFull\" ref={this.compassRef} >\r\n          <g id=\"book\">\r\n            <path fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" d=\"M233,288a33,33,0,1,1-33-33A33,33,0,0,1,233,288Z\"/>\r\n            <path fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" d=\"M250,345.64a80.26,80.26,0,0,0-11.81,42.46H138.05c0-34.16,20.29-62.78,47.56-70.33a33,33,0,0,0,28.61,0C228.83,321.81,241.43,331.9,250,345.64Z\"/>\r\n            <path fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" d=\"M333.09,288a33,33,0,1,1-33-33A33.05,33.05,0,0,1,333.09,288Z\"/>\r\n            <path fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" d=\"M361.91,388.1H238.17A80.26,80.26,0,0,1,250,345.64c8.55-13.74,21.15-23.83,35.76-27.87a33,33,0,0,0,28.61,0C341.62,325.32,361.91,353.94,361.91,388.1Z\"/>\r\n            <path fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" d=\"M338,186a21.19,21.19,0,0,1-21.19,21.18h0c0,.15,0,.29,0,.43a16.16,16.16,0,0,1-28.66,10.25,35.43,35.43,0,0,1-57.65-2.23,21.18,21.18,0,0,1-38.27-11.87,23.72,23.72,0,1,1,3.2-42c-.09-.94-.14-1.88-.14-2.84A29.39,29.39,0,0,1,247,139.75a21.19,21.19,0,0,1,39.33,10.94c0,.29,0,.59,0,.88a21.17,21.17,0,0,1,26.14,13.65,20.41,20.41,0,0,1,4.38-.46A21.19,21.19,0,0,1,338,186Z\"/>\r\n            <circle fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" cx=\"348.76\" cy=\"228.41\" r=\"8\"/>\r\n            <circle fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" cx=\"151.2\" cy=\"223.56\" r=\"8\"/>\r\n            <circle fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" cx=\"353.36\" cy=\"257.52\" r=\"5.46\"/>\r\n            <circle fill=\"none\" stroke-width=\"6px\" stroke=\"black\" class=\"cls-1\" cx=\"146.6\" cy=\"257.52\" r=\"5.46\"/>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookstackButton;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../src/app.css';\r\n\r\n\r\nimport CompassButton from '../resources/icons/svgr/CompassButton/index.jsx';\r\nimport PawprintButton from '../resources/icons/svgr/PawprintButton/index.jsx';\r\nimport BookstackButton from '../resources/icons/svgr/BookstackButton/index.jsx';\r\nimport ContactButton from '../resources/icons/svgr/ContactButton/index.jsx';\r\nimport TeamButton from '../resources/icons/svgr/TeamButton/index.jsx';\r\n\r\nclass Sidebar extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n        isActive:false\r\n    }\r\n}\r\n\r\nplay = () =>{\r\n    const {isActive} = this.state;\r\n    this.setState(prevState => ({isActive: !prevState.isActive}));\r\n\r\n};\r\n    \r\n\r\n    render(){\r\n      const{isActive} = this.state;\r\n        return(\r\n        <div className=\"main-sidebar\">\r\n            \r\n            \r\n            <Link to=\"/feed\"><CompassButton /><div class=\"sidebar-button-name\">Feed</div></Link>\r\n            <Link to=\"/projects\"><PawprintButton /><div class=\"sidebar-button-name\">Projects</div></Link>\r\n            <Link to=\"/bookstack\"><BookstackButton/><div class=\"sidebar-button-name\">Book Stack</div></Link>\r\n            <Link to=\"/team\"><TeamButton/><div class=\"sidebar-button-name\">Team</div></Link>\r\n            <Link to=\"/contact\"><ContactButton/><div class=\"sidebar-button-name\">Contact</div></Link>\r\n\r\n            <div className='main-header-desktop'>XM STUDIO<br/>RESEARCH + ARCHITECTURE\r\n          </div>\r\n\r\n        </div>\r\n        );\r\n    }   \r\n    \r\n    \r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport { Row} from 'react-bootstrap';\r\nimport '../../src/app.css';\r\nimport './feedcard.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst FeedCard = ({property}) => {\r\n    const {index, picture, city, address, bedrooms, bathrooms, carSpaces} = property;\r\n    return (\r\n        <div id={`card-${index}`} className=\"card\">\r\n            <img src={picture} alt={city} />\r\n            <div className=\"details\">\r\n                <span className=\"index\">{index+1}</span>\r\n                <p className=\"location\">\r\n                    {city}<br />\r\n                    {address}\r\n                </p>\r\n                <ul className=\"features\">\r\n                    <li className=\"icon-bed\">{bedrooms} <span>bedrooms</span></li>\r\n                    <li className=\"icon-bath\">{bathrooms} <span>bathrooms</span></li>\r\n                    <li className=\"icon-car\">{carSpaces} <span>parking spots</span></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nFeedCard.propTypes = {\r\n    property: PropTypes.object.isRequired\r\n}\r\n\r\n\r\nexport default FeedCard;","const data = {\r\n    \"properties\": [\r\n    {\r\n        \"_id\": \"593e9297e17df20c4a237d42\",\r\n        \"index\": 0,\r\n        \"price\": 937180,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property01.jpg\",\r\n        \"city\": \"Singer\",\r\n        \"address\": \"914 Argyle Road\",\r\n        \"latitude\": -33.944576,\r\n        \"longitude\": 151.25584,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e9297ec4cca9c56bf61af\",\r\n        \"index\": 1,\r\n        \"price\": 703725,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property02.jpg\",\r\n        \"city\": \"Machias\",\r\n        \"address\": \"255 Raleigh Place\",\r\n        \"latitude\": -33.944471,\r\n        \"longitude\": 151.2541,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e929773c71925e5d7c11c\",\r\n        \"index\": 2,\r\n        \"price\": 837111,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property03.jpg\",\r\n        \"city\": \"Bend\",\r\n        \"address\": \"580 Amber Street\",\r\n        \"latitude\": -33.944644,\r\n        \"longitude\": 151.24834,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e92973d4d15eedb129aee\",\r\n        \"index\": 3,\r\n        \"price\": 648223,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property04.jpg\",\r\n        \"city\": \"Ivanhoe\",\r\n        \"address\": \"854 Varanda Place\",\r\n        \"latitude\": -33.940396,\r\n        \"longitude\": 151.2469,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e929728b7f8543b7907e1\",\r\n        \"index\": 4,\r\n        \"price\": 771826,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property05.jpg\",\r\n        \"city\": \"Lydia\",\r\n        \"address\": \"857 Rockaway Parkway\",\r\n        \"latitude\": -33.944562,\r\n        \"longitude\": 151.2503,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e92975996a6263d146444\",\r\n        \"index\": 5,\r\n        \"price\": 686238,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property01.jpg\",\r\n        \"city\": \"Rosedale\",\r\n        \"address\": \"543 Harman Street\",\r\n        \"latitude\": -33.939304,\r\n        \"longitude\": 151.25046,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e9297a13e246da5ba0884\",\r\n        \"index\": 6,\r\n        \"price\": 595377,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property02.jpg\",\r\n        \"city\": \"Allison\",\r\n        \"address\": \"787 Gerald Court\",\r\n        \"latitude\": -33.937819,\r\n        \"longitude\": 151.25774,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e9297afa51a013fcd07d5\",\r\n        \"index\": 7,\r\n        \"price\": 696189,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property03.jpg\",\r\n        \"city\": \"Nicut\",\r\n        \"address\": \"416 Vandervoort Avenue\",\r\n        \"latitude\": -33.943154,\r\n        \"longitude\": 151.24687,\r\n        \"bedrooms\": 4,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e92972bd8fd05f2ab1a89\",\r\n        \"index\": 8,\r\n        \"price\": 716114,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property04.jpg\",\r\n        \"city\": \"Canterwood\",\r\n        \"address\": \"437 Mill Street\",\r\n        \"latitude\": -33.943723,\r\n        \"longitude\": 151.25278,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e9297fe2e6d32c859ecf4\",\r\n        \"index\": 9,\r\n        \"price\": 739852,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property05.jpg\",\r\n        \"city\": \"Cobbtown\",\r\n        \"address\": \"553 Friel Place\",\r\n        \"latitude\": -33.942459,\r\n        \"longitude\": 151.24941,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e92970481ccf52f948e6d\",\r\n        \"index\": 10,\r\n        \"price\": 625917,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property01.jpg\",\r\n        \"city\": \"Blue\",\r\n        \"address\": \"687 Opal Court\",\r\n        \"latitude\": -33.939606,\r\n        \"longitude\": 151.25289,\r\n        \"bedrooms\": 4,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e9297e09417746b79e1c5\",\r\n        \"index\": 11,\r\n        \"price\": 591236,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property02.jpg\",\r\n        \"city\": \"Craig\",\r\n        \"address\": \"183 Canton Court\",\r\n        \"latitude\": -33.938557,\r\n        \"longitude\": 151.24773,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e92978e7160fa2b9992d9\",\r\n        \"index\": 12,\r\n        \"price\": 995539,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property03.jpg\",\r\n        \"city\": \"Orovada\",\r\n        \"address\": \"234 Prospect Street\",\r\n        \"latitude\": -33.938345,\r\n        \"longitude\": 151.25045,\r\n        \"bedrooms\": 1,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e92973459fbdfa1f1c041\",\r\n        \"index\": 13,\r\n        \"price\": 866924,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property04.jpg\",\r\n        \"city\": \"Clay\",\r\n        \"address\": \"205 Ocean Parkway\",\r\n        \"latitude\": -33.937763,\r\n        \"longitude\": 151.24721,\r\n        \"bedrooms\": 1,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e92970306538830483e14\",\r\n        \"index\": 14,\r\n        \"price\": 810745,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property05.jpg\",\r\n        \"city\": \"Windsor\",\r\n        \"address\": \"324 Degraw Street\",\r\n        \"latitude\": -33.938662,\r\n        \"longitude\": 151.2513,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e92976042982766c97ca1\",\r\n        \"index\": 15,\r\n        \"price\": 793134,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property01.jpg\",\r\n        \"city\": \"Bluetown\",\r\n        \"address\": \"644 Ashford Street\",\r\n        \"latitude\": -33.940989,\r\n        \"longitude\": 151.25156,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e92971901e888a036a258\",\r\n        \"index\": 16,\r\n        \"price\": 984589,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property02.jpg\",\r\n        \"city\": \"Wakulla\",\r\n        \"address\": \"472 Wilson Street\",\r\n        \"latitude\": -33.943395,\r\n        \"longitude\": 151.24723,\r\n        \"bedrooms\": 1,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e929780e6af9c11a10b90\",\r\n        \"index\": 17,\r\n        \"price\": 836244,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property03.jpg\",\r\n        \"city\": \"Greer\",\r\n        \"address\": \"455 Crown Street\",\r\n        \"latitude\": -33.941819,\r\n        \"longitude\": 151.25784,\r\n        \"bedrooms\": 1,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e9297441033e3f818ff6b\",\r\n        \"index\": 18,\r\n        \"price\": 962426,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property04.jpg\",\r\n        \"city\": \"Wright\",\r\n        \"address\": \"459 Duffield Street\",\r\n        \"latitude\": -33.940486,\r\n        \"longitude\": 151.25562,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e9297964d25b59d94e8aa\",\r\n        \"index\": 19,\r\n        \"price\": 768916,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property05.jpg\",\r\n        \"city\": \"Manchester\",\r\n        \"address\": \"537 Gelston Avenue\",\r\n        \"latitude\": -33.942826,\r\n        \"longitude\": 151.24943,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e929737636c879539416d\",\r\n        \"index\": 20,\r\n        \"price\": 956974,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property01.jpg\",\r\n        \"city\": \"Ballico\",\r\n        \"address\": \"689 Orange Street\",\r\n        \"latitude\": -33.943478,\r\n        \"longitude\": 151.24779,\r\n        \"bedrooms\": 1,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e9297b2516c3e5af4601f\",\r\n        \"index\": 21,\r\n        \"price\": 875917,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property02.jpg\",\r\n        \"city\": \"Tuskahoma\",\r\n        \"address\": \"874 Rugby Road\",\r\n        \"latitude\": -33.93817,\r\n        \"longitude\": 151.25545,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e92972f6034590df04c45\",\r\n        \"index\": 22,\r\n        \"price\": 913858,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property03.jpg\",\r\n        \"city\": \"Temperanceville\",\r\n        \"address\": \"687 Alabama Avenue\",\r\n        \"latitude\": -33.938195,\r\n        \"longitude\": 151.25286,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e9297aa0e233a421f1a58\",\r\n        \"index\": 23,\r\n        \"price\": 622995,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property04.jpg\",\r\n        \"city\": \"Cliffside\",\r\n        \"address\": \"739 Vermont Street\",\r\n        \"latitude\": -33.94209,\r\n        \"longitude\": 151.25645,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e92977526a30b580dcfb2\",\r\n        \"index\": 24,\r\n        \"price\": 593777,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property05.jpg\",\r\n        \"city\": \"Sunbury\",\r\n        \"address\": \"735 Humboldt Street\",\r\n        \"latitude\": -33.944276,\r\n        \"longitude\": 151.25442,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e92975141c74b24375bd9\",\r\n        \"index\": 25,\r\n        \"price\": 757686,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property01.jpg\",\r\n        \"city\": \"Gracey\",\r\n        \"address\": \"617 Charles Place\",\r\n        \"latitude\": -33.939279,\r\n        \"longitude\": 151.25559,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    },\r\n    {\r\n        \"_id\": \"593e9297b3ffeb95bb008453\",\r\n        \"index\": 26,\r\n        \"price\": 976878,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property02.jpg\",\r\n        \"city\": \"Farmers\",\r\n        \"address\": \"786 George Street\",\r\n        \"latitude\": -33.943311,\r\n        \"longitude\": 151.25781,\r\n        \"bedrooms\": 3,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e9297e262c91acd91ab81\",\r\n        \"index\": 27,\r\n        \"price\": 804859,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property03.jpg\",\r\n        \"city\": \"Mapletown\",\r\n        \"address\": \"711 Sunnyside Avenue\",\r\n        \"latitude\": -33.943475,\r\n        \"longitude\": 151.24929,\r\n        \"bedrooms\": 1,\r\n        \"bathrooms\": 2,\r\n        \"carSpaces\": 0\r\n    },\r\n    {\r\n        \"_id\": \"593e9297df21e62e0465f91f\",\r\n        \"index\": 28,\r\n        \"price\": 611018,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property04.jpg\",\r\n        \"city\": \"Snyderville\",\r\n        \"address\": \"403 Lawrence Avenue\",\r\n        \"latitude\": -33.943007,\r\n        \"longitude\": 151.25262,\r\n        \"bedrooms\": 2,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 2\r\n    },\r\n    {\r\n        \"_id\": \"593e929787f567dccda86910\",\r\n        \"index\": 29,\r\n        \"price\": 707939,\r\n        \"picture\": \"https://ihatetomatoes.net/demos/_rw/01-real-estate/tn_property05.jpg\",\r\n        \"city\": \"Inkerman\",\r\n        \"address\": \"265 Ocean Court\",\r\n        \"latitude\": -33.943142,\r\n        \"longitude\": 151.25074,\r\n        \"bedrooms\": 1,\r\n        \"bathrooms\": 1,\r\n        \"carSpaces\": 1\r\n    }\r\n    ]\r\n}\r\n\r\nexport default data;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Swipe from 'react-easy-swipe';\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport './app.css';\r\nimport './custom.scss';\r\nimport FeedCard from './components/feedcard.js';\r\nimport data from './resources/Feed/data.js';\r\n\r\nclass XMFeed extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      properties: data.properties,\r\n      property: data.properties[0]\r\n    }\r\n  }\r\n\r\n  nextProperty = () => {\r\n    const newIndex = this.state.property.index+1;\r\n    this.setState({\r\n      property: data.properties[newIndex]\r\n    })\r\n  }\r\n\r\n  prevProperty = () => {\r\n    const newIndex = this.state.property.index-1;\r\n    this.setState({\r\n      property: data.properties[newIndex]\r\n    })\r\n  }\r\n\r\n  render (){\r\n    const {property} = this.state;\r\n      return(\r\n      <Col className=\"main-space\">\r\n        \r\n        <Col className = \"main-space-header\">\r\n          <Row className='main-header-mobile'>XM STUDIO<br/>RESEARCH + ARCHITECTURE\r\n          </Row>\r\n \r\n          <Row className='main-title'>Feed\r\n          </Row>\r\n        </Col>\r\n      \r\n        <Col className='main-content'>\r\n          <div className=\"cards-slider\">\r\n            <div className=\"cards-slider-wrapper\">\r\n              <Swipe onSwipeLeft={this.nextProperty} onSwipeRight={this.prevProperty} allowMouseEvents=\"true\">\r\n                <FeedCard property={property} />\r\n              </Swipe>\r\n              \r\n            </div>\r\n          </div>\r\n          <div><button \r\n          onClick={() => this.nextProperty()} \r\n          disabled={property.index === data.properties.length-1}\r\n        >Next</button>\r\n        <button \r\n          onClick={() => this.prevProperty()} \r\n          disabled={property.index === 0}\r\n        >Prev</button></div>\r\n        </Col>\r\n      \r\n      </Col>\r\n      );\r\n    \r\n  }\r\n}\r\n\r\n\r\nexport default XMFeed;","import React from 'react';\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport './app.css';\r\nimport './custom.scss';\r\n\r\n\r\nclass XMProjects extends React.Component {\r\n  render (){\r\n    \r\n    return(\r\n      <Col className=\"main-space\">\r\n        \r\n        <Col className = \"main-space-header\">\r\n          <Row className='main-header-mobile'>XM STUDIO<br/>RESEARCH + ARCHITECTURE\r\n          </Row>\r\n          <Row className='main-title'>Projects\r\n          </Row>\r\n        </Col>\r\n      \r\n        <Col className='main-content'>\r\n      \r\n        </Col>\r\n      \r\n      </Col>\r\n    );\r\n  \r\n  }\r\n}\r\n\r\n\r\nexport default XMProjects;","import React from 'react';\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport '../../../app.css';\r\nimport '../../../custom.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport '../../../components/bookshelf.css';\r\n\r\nclass AcademicResearchShelf extends React.Component {\r\n\r\n  render (){\r\n    \r\n    return(\r\n      <Row>\r\n            <div className=\"book-shelf\">\r\n                <Link to=\"/bookstack/research/arm_final\"><img src=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/ARM%20Final/Book_Page_1.jpg\" alt=\"ARM Final\"/></Link>\r\n                <Link to=\"/bookstack/research/discrete_element_assemblies\"><img src=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/Discrete%20Element%20Assemblies/Book_Page_01.jpg\" alt=\"Discrete Element Assemblies\"/></Link>\r\n                <Link to=\"/bookstack/research/cellular_automata\"><img src=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/Cellular%20Automata/Book_Page_01.jpg\" alt=\"Cellular Automata\"/></Link>\r\n                <img src=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/Cellular%20Automata/Book_Page_01.jpg\" alt=\"Cellular Automata\"/>\r\n                <img src=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/Cellular%20Automata/Book_Page_01.jpg\" alt=\"Cellular Automata\"/>\r\n\r\n            \r\n            </div> \r\n            <div className=\"book-shelf-base\">\r\n\r\n            </div>\r\n            <div className=\"book-shelf-name\">\r\n                ACADEMIC RESEARCH\r\n            </div>\r\n            </Row>\r\n    );\r\n  \r\n} \r\n}\r\n\r\n\r\nexport default AcademicResearchShelf;","import React from 'react';\r\nimport { Row} from 'react-bootstrap';\r\nimport '../../src/app.css';\r\nimport './bookshelf.css';\r\n\r\nclass BookShelf extends React.Component {\r\n    render (){\r\n        return(\r\n            <Row>\r\n            <div className=\"book-shelf\">\r\n                \r\n                \r\n            </div> \r\n            <div className=\"book-shelf-base\">\r\n\r\n            </div>\r\n            <div className=\"book-shelf-name\">\r\n                {this.props.shelfName}\r\n            </div>\r\n            </Row>\r\n                \r\n        );\r\n    }\r\n}\r\n\r\nexport default BookShelf;","import React from 'react';\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport './app.css';\r\nimport './custom.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport AcademicResearchShelf from './resources/Books/Shelves/AcademicResearchShelf.js';\r\nimport BookShelf from './components/bookshelf.js';\r\n\r\nclass XMBookStack extends React.Component {\r\n\r\n\r\n\r\n  render (){\r\n    \r\n    return(\r\n      <Col className=\"main-space\" >\r\n        \r\n        <Col className = \"main-space-header\">\r\n          <Row className='main-header-mobile'>XM STUDIO<br/>RESEARCH + ARCHITECTURE\r\n          </Row>\r\n          <Row className='main-title'>Book Stack\r\n          </Row>\r\n        </Col>\r\n      \r\n        <Col className='main-content'>\r\n          <AcademicResearchShelf/>\r\n          <BookShelf shelfName=\"Academic design\"/>\r\n          <BookShelf shelfName=\"Academic essays\"/>\r\n        </Col>\r\n      \r\n      </Col>\r\n    );\r\n  \r\n} \r\n}\r\n\r\n\r\nexport default XMBookStack;","import React from 'react';\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport './app.css';\r\nimport './custom.scss';\r\n\r\n\r\n\r\nclass XMTeam extends React.Component {\r\n  render (){\r\n    \r\n    return(\r\n      <Col className=\"main-space\">\r\n        \r\n        <Col className = \"main-space-header\">\r\n          <Row className='main-header-mobile'>XM STUDIO<br/>RESEARCH + ARCHITECTURE\r\n          </Row>\r\n          <Row className='main-title'>Team\r\n          </Row>\r\n        </Col>\r\n      \r\n        <Col className='main-content'>\r\n      \r\n        </Col>\r\n      \r\n      </Col>\r\n    );\r\n  \r\n}\r\n}\r\n\r\n\r\nexport default XMTeam;","import React from 'react';\r\nimport {Container, Row, Col} from 'react-bootstrap';\r\nimport '../../src/app.css';\r\nimport './flipcontactcard.css';\r\n\r\nclass FlipContactCard extends React.Component {\r\n    render (){\r\n        \r\n        return(\r\n            <div className=\"flip-card\">\r\n                <div class=\"flip-card-inner\">\r\n                    <div class=\"flip-card-front\" flex>\r\n                        \r\n                        <Col className=\"flip-card-front-text\"><p>{this.props.name}<br/><span className=\"subtle-text\">{this.props.designation}</span></p></Col>\r\n                        \r\n                    </div>\r\n                    <div class=\"flip-card-back\">\r\n                        <Col className=\"flip-card-back-text\"><p><span className=\"highlight-text-3\">Phone</span>&nbsp;&nbsp;&nbsp;<a className=\"contact\" href={\"tel:\"+this.props.tel}>{this.props.tel}</a>\r\n                    <br/>\r\n                    <span className=\"highlight-text-3\">Mail</span>&nbsp;&nbsp;&nbsp;<a className=\"contact\" href={\"mailto:\"+this.props.mail} target=\"_top\">{this.props.mail}</a></p></Col>\r\n                    </div>\r\n                </div>\r\n            </div>    \r\n        );\r\n    }\r\n}\r\nexport default FlipContactCard;\r\n","import React from 'react';\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport './app.css';\r\nimport './custom.scss';\r\n\r\nimport FlipContactCard from './components/flipcontactcard.js';\r\n\r\n\r\nclass XMContact extends React.Component {\r\n  render (){\r\n    \r\n    return(\r\n      <Container className=\"main-space\">\r\n        <Col className = \"main-space-header\">\r\n          <Row className='main-header-mobile'>XM STUDIO<br/>RESEARCH + ARCHITECTURE\r\n          </Row>\r\n          <Row className='main-title'>Contact\r\n          </Row>\r\n        </Col>\r\n      \r\n        <Col className='main-content-contact'>\r\n        <Row className = 'main-content-text'>\r\n          \r\n          We are a studio that's founded in the clouds, as of now.\r\n          Do drop us a mail or a good phone call to schedule a meeting!\r\n        \r\n      </Row>\r\n      <Row className = 'main-content-text'>\r\n\r\n      \r\n        <FlipContactCard name=\"Elangovan Sankaralingom\" designation=\"CEO\" tel=\"+919842144844\" mail=\"elan@xm.studio\"/>\r\n        </Row>\r\n        <Row className = 'main-content-text'>\r\n        <FlipContactCard name=\"Bhavatarini Kumaravel\" designation=\"CFO\" tel=\"+919585525188\" mail=\"bava@xm.studio\"/>\r\n        </Row>\r\n        \r\n        </Col>\r\n      \r\n      </Container>\r\n      \r\n      \r\n    );\r\n  \r\n}\r\n}\r\n\r\n\r\nexport default XMContact;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport $ from \"jquery\";\r\nimport \"./turn.js\";\r\nimport Img from 'react-image';\r\n\r\nimport \"./turn.css\";\r\n\r\nclass Flipbook extends React.Component {\r\n  static defaultProps = {\r\n    style: {},\r\n    className: \"\",\r\n    options: {    \r\n      width: window.innerWidth*0.85,\r\n      height: window.innerWidth*0.6,\r\n      autoCenter: true,\r\n      display: \"double\",\r\n      acceleration: true,\r\n      elevation: 50,\r\n      \r\n      gradients: !$.isTouch,\r\n      when: {\r\n        turned: function(e, page) {\r\n          console.log(\"Current view: \", $(this).turn(\"view\"));\r\n        }\r\n      }}\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.el) {\r\n      $(this.el).turn(Object.assign({}, this.props.options));\r\n    }\r\n    document.addEventListener(\"keydown\", this.handleKeyDown, false);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.el) {\r\n      $(this.el)\r\n        .turn(\"destroy\")\r\n        .remove();\r\n    }\r\n    document.removeEventListener(\"keydown\", this.handleKeyDown, false);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.keyCode === 37) {\r\n      $(this.el).turn(\"previous\");\r\n    }\r\n    if (event.keyCode === 39) {\r\n      $(this.el).turn(\"next\");\r\n    }\r\n  };\r\n\r\n  renderPages(path, length){\r\n    let pages =[];\r\n    for(let i=0;i<parseInt(length);i++){\r\n      let filename = path.concat('Book_Page_',(i+1).toString(),'.jpg');\r\n      pages.push(<div key={i} className=\"page\">\r\n      <Img src={filename} alt=\"\" />\r\n    </div>);\r\n    }\r\n    return pages;\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div\r\n        className={this.props.className}\r\n        style={Object.assign({}, this.props.style)}\r\n        ref={el => (this.el = el)}\r\n      >\r\n        {this.renderPages(this.props.imgpath,this.props.imgnum)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Flipbook;","import React from \"react\";\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport Flipbook from \"../../../components/flipbook.js\";\r\nimport PinchToZoom from 'react-pinch-and-zoom';\r\n\r\n  class ARMFinal extends React.Component{\r\n    \r\n    render(){\r\n      \r\n      return (\r\n        \r\n        <Container >\r\n          <Col className = \"main-space-header\">\r\n            <Row className='main-header'>XM STUDIO<br/>RESEARCH + ARCHITECTURE > BOOK STACK ><br/>\r\n            </Row>\r\n            <Row className='main-book-title'>Representation tales of the Winton Gallery\r\n            </Row>\r\n          </Col>\r\n          <Col className = \"main-content-book-main\">\r\n          <PinchToZoom className = \"main-content-book\">\r\n            \r\n            \r\n              <Flipbook className=\"magazine\" imgpath=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/ARM%20Final/\" imgnum=\"6\"/>\r\n            \r\n            \r\n          </PinchToZoom>\r\n          </Col>\r\n        </Container>\r\n        );\r\n      }\r\n  }\r\n \r\n  export default ARMFinal;","import React from \"react\";\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport Flipbook from \"../../../components/flipbook.js\";\r\nimport PinchToZoom from 'react-pinch-and-zoom';\r\n\r\n  class CellularAutomata extends React.Component{\r\n    \r\n    render(){\r\n      \r\n      return (\r\n        \r\n        <Container >\r\n          <Col className = \"main-space-header\">\r\n            <Row className='main-header'>XM STUDIO<br/>RESEARCH + ARCHITECTURE > BOOK STACK ><br/>\r\n            </Row>\r\n            <Row className='main-book-title'>Representation tales of the Winton Gallery\r\n            </Row>\r\n          </Col>\r\n          <Col className = \"main-content-book-main\">\r\n          <PinchToZoom className = \"main-content-book\">\r\n            \r\n            \r\n              <Flipbook className=\"magazine\" imgpath=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/Cellular%20Automata/\" imgnum=\"84\"/>\r\n            \r\n            \r\n          </PinchToZoom>\r\n          </Col>\r\n        </Container>\r\n        );\r\n      }\r\n  }\r\n \r\n  export default CellularAutomata;","import React from \"react\";\r\nimport {Row, Col, Container} from 'react-bootstrap';\r\nimport Flipbook from \"../../../components/flipbook.js\";\r\nimport PinchToZoom from 'react-pinch-and-zoom';\r\n\r\n  class DiscreteElementAssemblies extends React.Component{\r\n    \r\n    render(){\r\n      \r\n      return (\r\n        \r\n        <Container >\r\n          <Col className = \"main-space-header\">\r\n            <Row className='main-header'>XM STUDIO<br/>RESEARCH + ARCHITECTURE > BOOK STACK ><br/>\r\n            </Row>\r\n            <Row className='main-book-title'>Representation tales of the Winton Gallery\r\n            </Row>\r\n          </Col>\r\n          <Col className = \"main-content-book-main\">\r\n          <PinchToZoom className = \"main-content-book\">\r\n            \r\n            \r\n              <Flipbook className=\"magazine\" imgpath=\"https://github.com/xm-studio/xm-studio-website/raw/website-creation/src/resources/Books/Research/Discrete%20Element%20Assemblies/\" imgnum=\"42\"/>\r\n            \r\n            \r\n          </PinchToZoom>\r\n          </Col>\r\n        </Container>\r\n        );\r\n      }\r\n  }\r\n \r\n  export default DiscreteElementAssemblies;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import './custom.scss';\r\nimport './index.css'\r\nimport { Route, HashRouter as Router} from 'react-router-dom';\r\nimport {Row,  Container} from 'react-bootstrap';\r\nimport Sidebar from \"./components/sidebar.js\";\r\n\r\nimport XMFeed from './xm_feed.js';\r\nimport XMProjects from './xm_projects.js';\r\nimport XMBookStack from './xm_bookstack.js';\r\nimport XMTeam from './xm_team.js';\r\nimport XMContact from './xm_contact.js';\r\n\r\nimport ARMFinal from './resources/Books/Research/ARMFinal.js';\r\nimport CellularAutomata from './resources/Books/Research/CellularAutomata.js';\r\nimport DiscreteElementAssemblies from './resources/Books/Research/DiscreteElementAssemblies.js';\r\n\r\nexport default class Routing extends React.Component{\r\n\r\n  render(){\r\n    return(<Router forceRefresh={true}>\r\n      <Container >\r\n        <Row className='base'>\r\n          <Sidebar/>\r\n          \r\n            <Route exact path=\"/\" component={XMFeed}/>\r\n            <Route exact path=\"/feed\" component={XMFeed}/>\r\n            <Route exact path=\"/projects\" component={XMProjects}/>\r\n            <Route exact path=\"/bookstack\" component={XMBookStack}/>\r\n            <Route exact path=\"/team\" component={XMTeam}/>\r\n            <Route exact path=\"/contact\" component={XMContact}/>\r\n            <Route exact path=\"/bookstack/research/arm_final\" component={ARMFinal}/>\r\n            <Route exact path=\"/bookstack/research/discrete_element_assemblies\" component={DiscreteElementAssemblies}/>\r\n            <Route exact path=\"/bookstack/research/cellular_automata\" component={CellularAutomata}/>\r\n        </Row>\r\n      </Container>\r\n    </Router>);\r\n  }\r\n  \r\n}\r\n    \r\n\r\n\r\nReactDOM.render(\r\n    <Routing/>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}